System.register(["./index-legacy-a073fbdb.js","./index-legacy-acfdb748.js","./common-legacy-8a9bce09.js","./android_api-legacy-8a16feca.js","./axios-legacy-f57a6aff.js","./storage-legacy-6a5601ba.js","./index-legacy-a9a1affa.js","./_plugin-vue_export-helper-legacy-762b7923.js","./index-legacy-2240c3cd.js","./index-legacy-2694ae48.js","./_commonjsHelpers-legacy-9d68949b.js","./mount-component-legacy-18eb38ea.js","./runtime-dom.esm-bundler-legacy-93299829.js","./index-legacy-6518e8aa.js","./index-legacy-16749350.js","./constant-legacy-6f439ca4.js","./on-popup-reopen-legacy-65839532.js"],(function(e,a){"use strict";var t,l,s,c,n,o,u,i,d,r,g,p,m,y,v,b,h,_,j=document.createElement("style");return j.textContent=".online_box[data-v-b017e1c9]{width:100vw;height:100vh;overflow:scroll}.imgList[data-v-b017e1c9]{width:100vw;background-color:#0ff;display:flex;justify-content:center;align-items:center}.btn_box[data-v-b017e1c9]{width:100vw;height:40px;display:flex;justify-content:center;align-items:center;margin-top:100px;margin-bottom:50px}.btn_box button[data-v-b017e1c9]{width:160px;height:50px;background-color:#d21a28;color:#fff;border-radius:25px}.img_list[data-v-b017e1c9]{width:100vw;height:60px;background-color:#fff;display:flex;justify-content:space-between;align-items:center;padding:0 20px}.null_img[data-v-b017e1c9]{display:flex;justify-content:center;align-items:center;width:100vw;height:70px;font-size:20px}\n",document.head.appendChild(j),{setters:[e=>{t=e.C,l=e.am,s=e.D,c=e.l,n=e.ap,o=e.E,u=e.R,i=e.c,d=e.Y,r=e.o,g=e.Z,p=e._},null,e=>{m=e.a},e=>{y=e.a},e=>{v=e.a},e=>{b=e.a},e=>{h=e.I},e=>{_=e._},null,null,null,null,null,null,null,null,null],execute:function(){const a={class:"online_box"},j={class:"imgList"},w={key:0,class:"null_img"},x=[(e=>(g("data-v-b017e1c9"),e=e(),p(),e))((()=>u("div",null,"当前账号尚未上传收款图片",-1)))],f={class:"btn_box"};e("default",_(t({__name:"index",setup(e){const t=l(),g=s(),p=b(),_=s(),k=s(!0),U=s(),P=s(),I=()=>{""==_.value.PayPal_Url&&""==_.value.WeChat_Url?(async()=>{1==Number(g.value)?await y.call("getAlbumResource",JSON.stringify({bucket_name:"shop",purpose_code:1}),(e=>{if(200==e.status){const a=e.data.bucket+"/"+e.data.object;v.post("http://www.myjpai.com:10066/api/AB/AddPayImg",{UserId:p,PayPal_Url:a}).then((e=>{m({message:"上传成功"}),C()})).catch((e=>{m({message:"上传失败"})}))}else m({message:"上传失败"})})):await y.call("getAlbumResource",JSON.stringify({bucket_name:"shop",purpose_code:1}),(e=>{if(200==e.status){const a=e.data.bucket+"/"+e.data.object;v.post("http://www.myjpai.com:10066/api/AB/AddPayImg",{UserId:p,WeChat_Url:a}).then((e=>{m({message:"上传成功"}),C()})).catch((e=>{m({message:"上传失败ll"})}))}else m({message:"上传失败"})}))})():(async()=>{1==Number(g.value)?await y.call("getAlbumResource",JSON.stringify({bucket_name:"shop",purpose_code:1}),(e=>{if(200==e.status){m({message:e.data.object+"??"});const a=e.data.bucket+"/"+e.data.object;v.post("http://www.myjpai.com:10066/api/AB/UpdatePayImg",{UserId:p,PayPal_Url:a}).then((e=>{m({message:"上传成功"}),C()})).catch((e=>{m({message:"上传失败"})}))}})):await y.call("getAlbumResource",JSON.stringify({bucket_name:"shop",purpose_code:1}),(e=>{if(200==e.status){const a=e.data.bucket+"/"+e.data.object;v.post("http://www.myjpai.com:10066/api/AB/UpdatePayImg",{UserId:p,WeChat_Url:a}).then((e=>{m({message:"上传成功"}),C()})).catch((e=>{m({message:"上传失败"})}))}else m({message:"上传失败"})}))})()},C=()=>{v.post("http://www.myjpai.com:10066/api/AB/GetPayImg",{UserId:p}).then((e=>{_.value=e.data.data,console.log(_.value),1==Number(g.value)?""==_.value.PayPal_Url?k.value=!1:k.value=!0:""==_.value.WeChat_Url?k.value=!1:k.value=!0,console.log("触发"),console.log(_.value),1==Number(g.value)?P.value=U.value+_.value.PayPal_Url:P.value=U.value+_.value.WeChat_Url})).catch((e=>{m({message:"获取初始化参数失败"})}))};return c((()=>{g.value=t.query.pay_type,console.log(g.value)})),n((()=>{y.call("getMinIOConfit",null,(e=>{200==e.status?U.value="http://"+e.data.end_point+"/":m({message:"获取失败"})})),C()})),(e,t)=>{const l=h;return r(),o("div",a,[u("div",j,[1==k.value?(r(),i(l,{key:0,src:P.value},null,8,["src"])):d("",!0)]),0==k.value?(r(),o("div",w,x)):d("",!0),u("div",f,[0==k.value?(r(),o("button",{key:0,onClick:I},"上传支付图片")):d("",!0),1==k.value?(r(),o("button",{key:1,onClick:I},"更改支付图片")):d("",!0)])])}}}),[["__scopeId","data-v-b017e1c9"]]))}}}));
