var be=Object.defineProperty;var we=(ce,le,o)=>le in ce?be(ce,le,{enumerable:!0,configurable:!0,writable:!0,value:o}):ce[le]=o;var ge=(ce,le,o)=>(we(ce,typeof le!="symbol"?le+"":le,o),o);import{c as pe}from"./_commonjsHelpers-edff4021.js";import{D as Se,m as xe}from"./index-3dcc8fbd.js";function _e(ce){throw new Error('Could not dynamically require "'+ce+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var me={},Ee={get exports(){return me},set exports(ce){me=ce}};(function(ce,le){(function(o){ce.exports=o()})(function(){return function(){function o(w,x,i){function s(a,e){if(!x[a]){if(!w[a]){var n=typeof _e=="function"&&_e;if(!e&&n)return n(a,!0);if(p)return p(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=x[a]={exports:{}};w[a][0].call(d.exports,function(l){var g=w[a][1][l];return s(g||l)},d,d.exports,o,w,x,i)}return x[a].exports}for(var p=typeof _e=="function"&&_e,h=0;h<i.length;h++)s(i[h]);return s}return o}()({1:[function(o,w,x){(function(i,s){var p=o("events"),h=o("./store"),a=o("end-of-stream"),e=o("mqtt-packet"),n=o("readable-stream").Writable,u=o("inherits"),d=o("reinterval"),l=o("./validations"),g=o("xtend"),T=s.setImmediate||function(S){i.nextTick(S)},C={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0};function _(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function B(S,k,F){S.emit("packetsend",k);var M=e.writeToStream(k,S.stream);!M&&F?S.stream.once("drain",F):F&&F()}function R(S){S&&Object.keys(S).forEach(function(k){typeof S[k]=="function"&&(S[k](new Error("Connection closed")),delete S[k])})}function O(S,k,F){S.outgoingStore.put(k,function(ee){if(ee)return F&&F(ee);B(S,k,F)})}function I(){}function A(S,k){var F,M=this;if(!(this instanceof A))return new A(S,k);this.options=k||{};for(F in C)typeof this.options[F]>"u"?this.options[F]=C[F]:this.options[F]=k[F];this.options.clientId=typeof this.options.clientId=="string"?this.options.clientId:_(),this.streamBuilder=S,this.outgoingStore=this.options.outgoingStore||new h,this.incomingStore=this.options.incomingStore||new h,this.queueQoSZero=this.options.queueQoSZero===void 0?!0:this.options.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this.nextId=Math.max(1,Math.floor(Math.random()*65535)),this.outgoing={},this.on("connect",function(){if(this.disconnected)return;this.connected=!0;var y=this.outgoingStore.createStream();this.once("close",D),y.on("end",function(){M.removeListener("close",D)}),y.on("error",function(V){M.removeListener("close",D),M.emit("error",V)});function D(){y.destroy(),y=null}function W(){if(y){var V=y.read(1),Z;if(!V){y.once("readable",W);return}!M.disconnecting&&!M.reconnectTimer?(Z=M.outgoing[V.messageId],M.outgoing[V.messageId]=function(H,$){Z&&Z(H,$),W()},M._sendPacket(V)):y.destroy&&y.destroy()}}W()}),this.on("close",function(){this.connected=!1,clearTimeout(this.connackTimer)}),this.on("connect",this._setupPingTimer),this.on("connect",function(){var y=this.queue;function D(){var W=y.shift(),V=null;W&&(V=W.packet,M._sendPacket(V,function(Z){W.cb&&W.cb(Z),D()}))}D()});var ee=!0;this.on("connect",function(){!ee&&this.options.clean&&Object.keys(this._resubscribeTopics).length>0&&(this.options.resubscribe?(this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics)):this._resubscribeTopics={}),ee=!1}),this.on("close",function(){M.pingTimer!==null&&(M.pingTimer.clear(),M.pingTimer=null)}),this.on("close",this._setupReconnect),p.EventEmitter.call(this),this._setupStream()}u(A,p.EventEmitter),A.prototype._setupStream=function(){var S,k=this,F=new n,M=e.parser(this.options),ee=null,y=[];this._clearReconnect(),this.stream=this.streamBuilder(this),M.on("packet",function(V){y.push(V)});function D(){i.nextTick(W)}function W(){var V=y.shift(),Z=ee;V?k._handlePacket(V,D):(ee=null,Z())}F._write=function(V,Z,H){ee=H,M.parse(V),W()},this.stream.pipe(F),this.stream.on("error",I),a(this.stream,this.emit.bind(this,"close")),S=Object.create(this.options),S.cmd="connect",B(this,S),M.on("error",this.emit.bind(this,"error")),this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){k._cleanUp(!0)},this.options.connectTimeout)},A.prototype._handlePacket=function(S,k){switch(this.emit("packetreceive",S),S.cmd){case"publish":this._handlePublish(S,k);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(S),k();break;case"pubrel":this._handlePubrel(S,k);break;case"connack":this._handleConnack(S),k();break;case"pingresp":this._handlePingresp(S),k();break}},A.prototype._checkDisconnecting=function(S){return this.disconnecting&&(S?S(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},A.prototype.publish=function(S,k,F,M){var ee;typeof F=="function"&&(M=F,F=null);var y={qos:0,retain:!1,dup:!1};if(F=g(y,F),this._checkDisconnecting(M))return this;switch(ee={cmd:"publish",topic:S,payload:k,qos:F.qos,retain:F.retain,messageId:this._nextId(),dup:F.dup},F.qos){case 1:case 2:this.outgoing[ee.messageId]=M||I,this._sendPacket(ee);break;default:this._sendPacket(ee,M);break}return this},A.prototype.subscribe=function(){var S,k=Array.prototype.slice.call(arguments),F=[],M=k.shift(),ee=M.resubscribe,y=k.pop()||I,D=k.pop(),W,V=this;if(delete M.resubscribe,typeof M=="string"&&(M=[M]),typeof y!="function"&&(D=y,y=I),W=l.validateTopics(M),W!==null)return T(y,new Error("Invalid topic "+W)),this;if(this._checkDisconnecting(y))return this;var Z={qos:0};if(D=g(Z,D),Array.isArray(M)?M.forEach(function($){(V._resubscribeTopics[$]<D.qos||!V._resubscribeTopics.hasOwnProperty($)||ee)&&F.push({topic:$,qos:D.qos})}):Object.keys(M).forEach(function($){(V._resubscribeTopics[$]<M[$]||!V._resubscribeTopics.hasOwnProperty($)||ee)&&F.push({topic:$,qos:M[$]})}),S={cmd:"subscribe",subscriptions:F,qos:1,retain:!1,dup:!1,messageId:this._nextId()},!F.length){y(null,[]);return}if(this.options.resubscribe){var H=[];F.forEach(function($){V.options.reconnectPeriod>0&&(V._resubscribeTopics[$.topic]=$.qos,H.push($.topic))}),V.messageIdToTopic[S.messageId]=H}return this.outgoing[S.messageId]=function($,z){if(!$)for(var N=z.granted,re=0;re<N.length;re+=1)F[re].qos=N[re];y($,F)},this._sendPacket(S),this},A.prototype.unsubscribe=function(S,k){var F={cmd:"unsubscribe",qos:1,messageId:this._nextId()},M=this;return k=k||I,this._checkDisconnecting(k)?this:(typeof S=="string"?F.unsubscriptions=[S]:typeof S=="object"&&S.length&&(F.unsubscriptions=S),this.options.resubscribe&&F.unsubscriptions.forEach(function(ee){delete M._resubscribeTopics[ee]}),this.outgoing[F.messageId]=k,this._sendPacket(F),this)},A.prototype.end=function(S,k){var F=this;typeof S=="function"&&(k=S,S=!1);function M(){F.disconnected=!0,F.incomingStore.close(function(){F.outgoingStore.close(function(){k&&k.apply(null,arguments),F.emit("end")})}),F._deferredReconnect&&F._deferredReconnect()}function ee(){F._cleanUp(S,T.bind(null,M))}return this.disconnecting?this:(this._clearReconnect(),this.disconnecting=!0,!S&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,ee,10)):ee(),this)},A.prototype.removeOutgoingMessage=function(S){var k=this.outgoing[S];return delete this.outgoing[S],this.outgoingStore.del({messageId:S},function(){k(new Error("Message removed"))}),this},A.prototype.reconnect=function(S){var k=this,F=function(){S?(k.options.incomingStore=S.incomingStore,k.options.outgoingStore=S.outgoingStore):(k.options.incomingStore=null,k.options.outgoingStore=null),k.incomingStore=k.options.incomingStore||new h,k.outgoingStore=k.options.outgoingStore||new h,k.disconnecting=!1,k.disconnected=!1,k._deferredReconnect=null,k._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=F:F(),this},A.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},A.prototype._setupReconnect=function(){var S=this;!S.disconnecting&&!S.reconnectTimer&&S.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),S.reconnectTimer=setInterval(function(){S._reconnect()},S.options.reconnectPeriod))},A.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},A.prototype._cleanUp=function(S,k){k&&this.stream.on("close",k),S?(this.options.reconnectPeriod===0&&this.options.clean&&R(this.outgoing),this.stream.destroy()):this._sendPacket({cmd:"disconnect"},T.bind(null,this.stream.end.bind(this.stream))),this.disconnecting||(this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(this.pingTimer.clear(),this.pingTimer=null),k&&!this.connected&&(this.stream.removeListener("close",k),k())},A.prototype._sendPacket=function(S,k){if(!this.connected){(S.qos||0)===0&&this.queueQoSZero||S.cmd!=="publish"?this.queue.push({packet:S,cb:k}):S.qos>0?(k=this.outgoing[S.messageId],this.outgoingStore.put(S,function(F){if(F)return k&&k(F)})):k&&k(new Error("No connection to broker"));return}switch(this._shiftPingInterval(),S.cmd){case"publish":break;case"pubrel":O(this,S,k);return;default:B(this,S,k);return}switch(S.qos){case 2:case 1:O(this,S,k);break;case 0:default:B(this,S,k);break}},A.prototype._setupPingTimer=function(){var S=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=d(function(){S._checkPing()},this.options.keepalive*1e3))},A.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},A.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},A.prototype._handlePingresp=function(){this.pingResp=!0},A.prototype._handleConnack=function(S){var k=S.returnCode,F=["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"];if(clearTimeout(this.connackTimer),k===0)this.reconnecting=!1,this.emit("connect",S);else if(k>0){var M=new Error("Connection refused: "+F[k]);M.code=k,this.emit("error",M)}},A.prototype._handlePublish=function(S,k){k=typeof k<"u"?k:I;var F=S.topic.toString(),M=S.payload,ee=S.qos,y=S.messageId,D=this;switch(ee){case 2:this.incomingStore.put(S,function(W){if(W)return k(W);D._sendPacket({cmd:"pubrec",messageId:y},k)});break;case 1:this.emit("message",F,M,S),this.handleMessage(S,function(W){if(W)return k(W);D._sendPacket({cmd:"puback",messageId:y},k)});break;case 0:this.emit("message",F,M,S),this.handleMessage(S,k);break}},A.prototype.handleMessage=function(S,k){k()},A.prototype._handleAck=function(S){var k=S.messageId,F=S.cmd,M=null,ee=this.outgoing[k],y=this;if(ee){switch(F){case"pubcomp":case"puback":delete this.outgoing[k],this.outgoingStore.del(S,ee);break;case"pubrec":M={cmd:"pubrel",qos:2,messageId:k},this._sendPacket(M);break;case"suback":if(delete this.outgoing[k],S.granted.length===1&&S.granted[0]&128){var D=this.messageIdToTopic[k];D&&D.forEach(function(W){delete y._resubscribeTopics[W]})}ee(null,S);break;case"unsuback":delete this.outgoing[k],ee(null);break;default:y.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")}},A.prototype._handlePubrel=function(S,k){k=typeof k<"u"?k:I;var F=S.messageId,M=this,ee={cmd:"pubcomp",messageId:F};M.incomingStore.get(S,function(y,D){!y&&D.cmd!=="pubrel"?(M.emit("message",D.topic,D.payload,D),M.incomingStore.put(S,function(W){if(W)return k(W);M.handleMessage(D,function(V){if(V)return k(V);M._sendPacket(ee,k)})})):M._sendPacket(ee,k)})},A.prototype._nextId=function(){var S=this.nextId++;return this.nextId===65536&&(this.nextId=1),S},A.prototype.getLastMessageId=function(){return this.nextId===1?65535:this.nextId-1},w.exports=A}).call(this,o("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./store":6,"./validations":7,_process:92,"end-of-stream":17,events:78,inherits:80,"mqtt-packet":85,"readable-stream":106,reinterval:107,xtend:120}],2:[function(o,w,x){var i=o("net");function s(p,h){var a,e;return h.port=h.port||1883,h.hostname=h.hostname||h.host||"localhost",a=h.port,e=h.hostname,i.createConnection(a,e)}w.exports=s},{net:11}],3:[function(o,w,x){var i=o("tls");function s(p,h){var a;h.port=h.port||8883,h.host=h.hostname||h.host||"localhost",h.rejectUnauthorized=h.rejectUnauthorized!==!1,delete h.path,a=i.connect(h),a.on("secureConnect",function(){h.rejectUnauthorized&&!a.authorized?a.emit("error",new Error("TLS not authorized")):a.removeListener("error",e)});function e(n){h.rejectUnauthorized&&p.emit("error",n),a.end()}return a.on("error",e),a}w.exports=s},{tls:11}],4:[function(o,w,x){(function(i){var s=o("websocket-stream"),p=o("url"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],a=i.title==="browser";function e(g,T){var C=g.protocol+"://"+g.hostname+":"+g.port+g.path;return typeof g.transformWsUrl=="function"&&(C=g.transformWsUrl(C,g,T)),C}function n(g){g.hostname||(g.hostname="localhost"),g.port||(g.protocol==="wss"?g.port=443:g.port=80),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={}),!a&&g.protocol==="wss"&&h.forEach(function(T){g.hasOwnProperty(T)&&!g.wsOptions.hasOwnProperty(T)&&(g.wsOptions[T]=g[T])})}function u(g,T){var C=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt";n(T);var _=e(T,g);return s(_,[C],T.wsOptions)}function d(g,T){return u(g,T)}function l(g,T){if(T.hostname||(T.hostname=T.host),!T.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");var C=p.parse(document.URL);T.hostname=C.hostname,T.port||(T.port=C.port)}return u(g,T)}a?w.exports=l:w.exports=d}).call(this,o("_process"))},{_process:92,url:112,"websocket-stream":117}],5:[function(o,w,x){var i=!1,s=[];function p(l){i?wx.sendSocketMessage({data:l.buffer||l}):s.push(l)}function h(l,g){var T={OPEN:1,CLOSING:2,CLOSED:3,readyState:i?1:0,send:p,close:wx.closeSocket,onopen:null,onmessage:null,onclose:null,onerror:null};return wx.connectSocket({url:l,protocols:g}),wx.onSocketOpen(function(C){T.readyState=T.OPEN,i=!0;for(var _=0;_<s.length;_++)p(s[_]);s=[],T.onopen&&T.onopen.apply(T,arguments)}),wx.onSocketMessage(function(C){T.onmessage&&T.onmessage.apply(T,arguments)}),wx.onSocketClose(function(){T.onclose&&T.onclose.apply(T,arguments),T.readyState=T.CLOSED,i=!1}),wx.onSocketError(function(){T.onerror&&T.onerror.apply(T,arguments),T.readyState=T.CLOSED,i=!1}),T}var a=o("websocket-stream");function e(l,g){var T=l.protocol==="wxs"?"wss":"ws",C=T+"://"+l.hostname+l.path;return l.port&&l.port!==80&&l.port!==443&&(C=T+"://"+l.hostname+":"+l.port+l.path),typeof l.transformWsUrl=="function"&&(C=l.transformWsUrl(C,l,g)),C}function n(l){l.hostname||(l.hostname="localhost"),l.path||(l.path="/"),l.wsOptions||(l.wsOptions={})}function u(l,g){var T=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";n(g);var C=e(g,l);return a(h(C,[T]))}function d(l,g){if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");return u(l,g)}w.exports=d},{"websocket-stream":117}],6:[function(o,w,x){(function(i){var s=o("xtend"),p=o("readable-stream").Readable,h={objectMode:!0},a={clean:!0},e=o("es6-map");function n(u){if(!(this instanceof n))return new n(u);this.options=u||{},this.options=s(a,u),this._inflights=new e}n.prototype.put=function(u,d){return this._inflights.set(u.messageId,u),d&&d(),this},n.prototype.createStream=function(){var u=new p(h),d=!1,l=[],g=0;return this._inflights.forEach(function(T,C){l.push(T)}),u._read=function(){!d&&g<l.length?this.push(l[g++]):this.push(null)},u.destroy=function(){if(!d){var T=this;d=!0,i.nextTick(function(){T.emit("close")})}},u},n.prototype.del=function(u,d){return u=this._inflights.get(u.messageId),u?(this._inflights.delete(u.messageId),d(null,u)):d&&d(new Error("missing packet")),this},n.prototype.get=function(u,d){return u=this._inflights.get(u.messageId),u?d(null,u):d&&d(new Error("missing packet")),this},n.prototype.close=function(u){this.options.clean&&(this._inflights=null),u&&u()},w.exports=n}).call(this,o("_process"))},{_process:92,"es6-map":66,"readable-stream":106,xtend:120}],7:[function(o,w,x){function i(p){for(var h=p.split("/"),a=0;a<h.length;a++)if(h[a]!=="+"){if(h[a]==="#")return a===h.length-1;if(h[a].indexOf("+")!==-1||h[a].indexOf("#")!==-1)return!1}return!0}function s(p){if(p.length===0)return"empty_topic_list";for(var h=0;h<p.length;h++)if(!i(p[h]))return p[h];return null}w.exports={validateTopics:s}},{}],8:[function(o,w,x){(function(i){var s=o("../client"),p=o("../store"),h=o("url"),a=o("xtend"),e={};i.title!=="browser"?(e.mqtt=o("./tcp"),e.tcp=o("./tcp"),e.ssl=o("./tls"),e.tls=o("./tls"),e.mqtts=o("./tls")):(e.wx=o("./wx"),e.wxs=o("./wx")),e.ws=o("./ws"),e.wss=o("./ws");function n(d){var l;d.auth&&(l=d.auth.match(/^(.+):(.+)$/),l?(d.username=l[1],d.password=l[2]):d.username=d.auth)}function u(d,l){if(typeof d=="object"&&!l&&(l=d,d=null),l=l||{},d){var g=h.parse(d,!0);if(g.port!=null&&(g.port=Number(g.port)),l=a(g,l),l.protocol===null)throw new Error("Missing protocol");l.protocol=l.protocol.replace(/:$/,"")}if(n(l),l.query&&typeof l.query.clientId=="string"&&(l.clientId=l.query.clientId),l.cert&&l.key)if(l.protocol){if(["mqtts","wss","wxs"].indexOf(l.protocol)===-1)switch(l.protocol){case"mqtt":l.protocol="mqtts";break;case"ws":l.protocol="wss";break;case"wx":l.protocol="wxs";break;default:throw new Error('Unknown protocol for secure connection: "'+l.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!e[l.protocol]){var T=["mqtts","wss"].indexOf(l.protocol)!==-1;l.protocol=["mqtt","mqtts","ws","wss","wx","wxs"].filter(function(_,B){return T&&B%2===0?!1:typeof e[_]=="function"})[0]}if(l.clean===!1&&!l.clientId)throw new Error("Missing clientId for unclean clients");l.protocol&&(l.defaultProtocol=l.protocol);function C(_){return l.servers&&((!_._reconnectCount||_._reconnectCount===l.servers.length)&&(_._reconnectCount=0),l.host=l.servers[_._reconnectCount].host,l.port=l.servers[_._reconnectCount].port,l.protocol=l.servers[_._reconnectCount].protocol?l.servers[_._reconnectCount].protocol:l.defaultProtocol,l.hostname=l.host,_._reconnectCount++),e[l.protocol](_,l)}return new s(C,l)}w.exports=u,w.exports.connect=u,w.exports.MqttClient=s,w.exports.Store=p}).call(this,o("_process"))},{"../client":1,"../store":6,"./tcp":2,"./tls":3,"./ws":4,"./wx":5,_process:92,url:112,xtend:120}],9:[function(o,w,x){x.byteLength=u,x.toByteArray=l,x.fromByteArray=C;for(var i=[],s=[],p=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,e=h.length;a<e;++a)i[a]=h[a],s[h.charCodeAt(a)]=a;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;function n(_){var B=_.length;if(B%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=_.indexOf("=");R===-1&&(R=B);var O=R===B?0:4-R%4;return[R,O]}function u(_){var B=n(_),R=B[0],O=B[1];return(R+O)*3/4-O}function d(_,B,R){return(B+R)*3/4-R}function l(_){for(var B,R=n(_),O=R[0],I=R[1],A=new p(d(_,O,I)),S=0,k=I>0?O-4:O,F=0;F<k;F+=4)B=s[_.charCodeAt(F)]<<18|s[_.charCodeAt(F+1)]<<12|s[_.charCodeAt(F+2)]<<6|s[_.charCodeAt(F+3)],A[S++]=B>>16&255,A[S++]=B>>8&255,A[S++]=B&255;return I===2&&(B=s[_.charCodeAt(F)]<<2|s[_.charCodeAt(F+1)]>>4,A[S++]=B&255),I===1&&(B=s[_.charCodeAt(F)]<<10|s[_.charCodeAt(F+1)]<<4|s[_.charCodeAt(F+2)]>>2,A[S++]=B>>8&255,A[S++]=B&255),A}function g(_){return i[_>>18&63]+i[_>>12&63]+i[_>>6&63]+i[_&63]}function T(_,B,R){for(var O,I=[],A=B;A<R;A+=3)O=(_[A]<<16&16711680)+(_[A+1]<<8&65280)+(_[A+2]&255),I.push(g(O));return I.join("")}function C(_){for(var B,R=_.length,O=R%3,I=[],A=16383,S=0,k=R-O;S<k;S+=A)I.push(T(_,S,S+A>k?k:S+A));return O===1?(B=_[R-1],I.push(i[B>>2]+i[B<<4&63]+"==")):O===2&&(B=(_[R-2]<<8)+_[R-1],I.push(i[B>>10]+i[B>>4&63]+i[B<<2&63]+"=")),I.join("")}},{}],10:[function(o,w,x){var i=o("readable-stream/duplex"),s=o("util"),p=o("safe-buffer").Buffer;function h(a){if(!(this instanceof h))return new h(a);if(this._bufs=[],this.length=0,typeof a=="function"){this._callback=a;var e=function(u){this._callback&&(this._callback(u),this._callback=null)}.bind(this);this.on("pipe",function(u){u.on("error",e)}),this.on("unpipe",function(u){u.removeListener("error",e)})}else this.append(a);i.call(this)}s.inherits(h,i),h.prototype._offset=function(e){var n=0,u=0,d;if(e===0)return[0,0];for(;u<this._bufs.length;u++){if(d=n+this._bufs[u].length,e<d||u==this._bufs.length-1)return[u,e-n];n=d}},h.prototype.append=function(e){var n=0;if(p.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;n<e.length;n++)this.append(e[n]);else if(e instanceof h)for(;n<e._bufs.length;n++)this.append(e._bufs[n]);else e!=null&&(typeof e=="number"&&(e=e.toString()),this._appendBuffer(p.from(e)));return this},h.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},h.prototype._write=function(e,n,u){this._appendBuffer(e),typeof u=="function"&&u()},h.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},h.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},h.prototype.get=function(e){return this.slice(e,e+1)[0]},h.prototype.slice=function(e,n){return typeof e=="number"&&e<0&&(e+=this.length),typeof n=="number"&&n<0&&(n+=this.length),this.copy(null,0,e,n)},h.prototype.copy=function(e,n,u,d){if((typeof u!="number"||u<0)&&(u=0),(typeof d!="number"||d>this.length)&&(d=this.length),u>=this.length||d<=0)return e||p.alloc(0);var l=!!e,g=this._offset(u),T=d-u,C=T,_=l&&n||0,B=g[1],R,O;if(u===0&&d==this.length){if(!l)return this._bufs.length===1?this._bufs[0]:p.concat(this._bufs,this.length);for(O=0;O<this._bufs.length;O++)this._bufs[O].copy(e,_),_+=this._bufs[O].length;return e}if(C<=this._bufs[g[0]].length-B)return l?this._bufs[g[0]].copy(e,n,B,B+C):this._bufs[g[0]].slice(B,B+C);for(l||(e=p.allocUnsafe(T)),O=g[0];O<this._bufs.length;O++){if(R=this._bufs[O].length-B,C>R)this._bufs[O].copy(e,_,B);else{this._bufs[O].copy(e,_,B,B+C);break}_+=R,C-=R,B&&(B=0)}return e},h.prototype.shallowSlice=function(e,n){e=e||0,n=n||this.length,e<0&&(e+=this.length),n<0&&(n+=this.length);var u=this._offset(e),d=this._offset(n),l=this._bufs.slice(u[0],d[0]+1);return d[1]==0?l.pop():l[l.length-1]=l[l.length-1].slice(0,d[1]),u[1]!=0&&(l[0]=l[0].slice(u[1])),new h(l)},h.prototype.toString=function(e,n,u){return this.slice(n,u).toString(e)},h.prototype.consume=function(e){for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},h.prototype.duplicate=function(){for(var e=0,n=new h;e<this._bufs.length;e++)n.append(this._bufs[e]);return n},h.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var a={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in a)(function(n){h.prototype[n]=function(u){return this.slice(u,u+a[n])[n](0)}})(e)}(),w.exports=h},{"readable-stream/duplex":97,"safe-buffer":108,util:116}],11:[function(o,w,x){},{}],12:[function(o,w,x){var i=o("base64-js"),s=o("ieee754");x.Buffer=e,x.SlowBuffer=R,x.INSPECT_MAX_BYTES=50;var p=2147483647;x.kMaxLength=p,e.TYPED_ARRAY_SUPPORT=h(),!e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42}catch(t){return!1}}Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}});function a(f){if(f>p)throw new RangeError('The value "'+f+'" is invalid for option "size"');var t=new Uint8Array(f);return t.__proto__=e.prototype,t}function e(f,t,r){if(typeof f=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(f)}return n(f,t,r)}typeof Symbol<"u"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192;function n(f,t,r){if(typeof f=="string")return g(f,t);if(ArrayBuffer.isView(f))return T(f);if(f==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(J(f,ArrayBuffer)||f&&J(f.buffer,ArrayBuffer))return C(f,t,r);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var v=f.valueOf&&f.valueOf();if(v!=null&&v!==f)return e.from(v,t,r);var L=_(f);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return e.from(f[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}e.from=function(f,t,r){return n(f,t,r)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array;function u(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function d(f,t,r){return u(f),f<=0?a(f):t!==void 0?typeof r=="string"?a(f).fill(t,r):a(f).fill(t):a(f)}e.alloc=function(f,t,r){return d(f,t,r)};function l(f){return u(f),a(f<0?0:B(f)|0)}e.allocUnsafe=function(f){return l(f)},e.allocUnsafeSlow=function(f){return l(f)};function g(f,t){if((typeof t!="string"||t==="")&&(t="utf8"),!e.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=O(f,t)|0,v=a(r),L=v.write(f,t);return L!==r&&(v=v.slice(0,L)),v}function T(f){for(var t=f.length<0?0:B(f.length)|0,r=a(t),v=0;v<t;v+=1)r[v]=f[v]&255;return r}function C(f,t,r){if(t<0||f.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var v;return t===void 0&&r===void 0?v=new Uint8Array(f):r===void 0?v=new Uint8Array(f,t):v=new Uint8Array(f,t,r),v.__proto__=e.prototype,v}function _(f){if(e.isBuffer(f)){var t=B(f.length)|0,r=a(t);return r.length===0||f.copy(r,0,0,t),r}if(f.length!==void 0)return typeof f.length!="number"||oe(f.length)?a(0):T(f);if(f.type==="Buffer"&&Array.isArray(f.data))return T(f.data)}function B(f){if(f>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return f|0}function R(f){return+f!=f&&(f=0),e.alloc(+f)}e.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==e.prototype},e.compare=function(t,r){if(J(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),J(r,Uint8Array)&&(r=e.from(r,r.offset,r.byteLength)),!e.isBuffer(t)||!e.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var v=t.length,L=r.length,Y=0,X=Math.min(v,L);Y<X;++Y)if(t[Y]!==r[Y]){v=t[Y],L=r[Y];break}return v<L?-1:L<v?1:0},e.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return e.alloc(0);var v;if(r===void 0)for(r=0,v=0;v<t.length;++v)r+=t[v].length;var L=e.allocUnsafe(r),Y=0;for(v=0;v<t.length;++v){var X=t[v];if(J(X,Uint8Array)&&(X=e.from(X)),!e.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(L,Y),Y+=X.length}return L};function O(f,t){if(e.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||J(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var r=f.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&r===0)return 0;for(var L=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ne(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return b(f).length;default:if(L)return v?-1:ne(f).length;t=(""+t).toLowerCase(),L=!0}}e.byteLength=O;function I(f,t,r){var v=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(f||(f="utf8");;)switch(f){case"hex":return re(this,t,r);case"utf8":case"utf-8":return Z(this,t,r);case"ascii":return z(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return V(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(v)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),v=!0}}e.prototype._isBuffer=!0;function A(f,t,r){var v=f[t];f[t]=f[r],f[r]=v}e.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)A(this,r,r+1);return this},e.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)A(this,r,r+3),A(this,r+1,r+2);return this},e.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)A(this,r,r+7),A(this,r+1,r+6),A(this,r+2,r+5),A(this,r+3,r+4);return this},e.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Z(this,0,t):I.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:e.compare(this,t)===0},e.prototype.inspect=function(){var t="",r=x.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},e.prototype.compare=function(t,r,v,L,Y){if(J(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),!e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),v===void 0&&(v=t?t.length:0),L===void 0&&(L=0),Y===void 0&&(Y=this.length),r<0||v>t.length||L<0||Y>this.length)throw new RangeError("out of range index");if(L>=Y&&r>=v)return 0;if(L>=Y)return-1;if(r>=v)return 1;if(r>>>=0,v>>>=0,L>>>=0,Y>>>=0,this===t)return 0;for(var X=Y-L,se=v-r,ae=Math.min(X,se),ue=this.slice(L,Y),he=t.slice(r,v),fe=0;fe<ae;++fe)if(ue[fe]!==he[fe]){X=ue[fe],se=he[fe];break}return X<se?-1:se<X?1:0};function S(f,t,r,v,L){if(f.length===0)return-1;if(typeof r=="string"?(v=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,oe(r)&&(r=L?0:f.length-1),r<0&&(r=f.length+r),r>=f.length){if(L)return-1;r=f.length-1}else if(r<0)if(L)r=0;else return-1;if(typeof t=="string"&&(t=e.from(t,v)),e.isBuffer(t))return t.length===0?-1:k(f,t,r,v,L);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(f,t,r):Uint8Array.prototype.lastIndexOf.call(f,t,r):k(f,[t],r,v,L);throw new TypeError("val must be string, number or Buffer")}function k(f,t,r,v,L){var Y=1,X=f.length,se=t.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(f.length<2||t.length<2)return-1;Y=2,X/=2,se/=2,r/=2}function ae(ye,ve){return Y===1?ye[ve]:ye.readUInt16BE(ve*Y)}var ue;if(L){var he=-1;for(ue=r;ue<X;ue++)if(ae(f,ue)===ae(t,he===-1?0:ue-he)){if(he===-1&&(he=ue),ue-he+1===se)return he*Y}else he!==-1&&(ue-=ue-he),he=-1}else for(r+se>X&&(r=X-se),ue=r;ue>=0;ue--){for(var fe=!0,de=0;de<se;de++)if(ae(f,ue+de)!==ae(t,de)){fe=!1;break}if(fe)return ue}return-1}e.prototype.includes=function(t,r,v){return this.indexOf(t,r,v)!==-1},e.prototype.indexOf=function(t,r,v){return S(this,t,r,v,!0)},e.prototype.lastIndexOf=function(t,r,v){return S(this,t,r,v,!1)};function F(f,t,r,v){r=Number(r)||0;var L=f.length-r;v?(v=Number(v),v>L&&(v=L)):v=L;var Y=t.length;v>Y/2&&(v=Y/2);for(var X=0;X<v;++X){var se=parseInt(t.substr(X*2,2),16);if(oe(se))return X;f[r+X]=se}return X}function M(f,t,r,v){return G(ne(t,f.length-r),f,r,v)}function ee(f,t,r,v){return G(ie(t),f,r,v)}function y(f,t,r,v){return ee(f,t,r,v)}function D(f,t,r,v){return G(b(t),f,r,v)}function W(f,t,r,v){return G(m(t,f.length-r),f,r,v)}e.prototype.write=function(t,r,v,L){if(r===void 0)L="utf8",v=this.length,r=0;else if(v===void 0&&typeof r=="string")L=r,v=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(v)?(v=v>>>0,L===void 0&&(L="utf8")):(L=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-r;if((v===void 0||v>Y)&&(v=Y),t.length>0&&(v<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var X=!1;;)switch(L){case"hex":return F(this,t,r,v);case"utf8":case"utf-8":return M(this,t,r,v);case"ascii":return ee(this,t,r,v);case"latin1":case"binary":return y(this,t,r,v);case"base64":return D(this,t,r,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,t,r,v);default:if(X)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),X=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(f,t,r){return t===0&&r===f.length?i.fromByteArray(f):i.fromByteArray(f.slice(t,r))}function Z(f,t,r){r=Math.min(f.length,r);for(var v=[],L=t;L<r;){var Y=f[L],X=null,se=Y>239?4:Y>223?3:Y>191?2:1;if(L+se<=r){var ae,ue,he,fe;switch(se){case 1:Y<128&&(X=Y);break;case 2:ae=f[L+1],(ae&192)===128&&(fe=(Y&31)<<6|ae&63,fe>127&&(X=fe));break;case 3:ae=f[L+1],ue=f[L+2],(ae&192)===128&&(ue&192)===128&&(fe=(Y&15)<<12|(ae&63)<<6|ue&63,fe>2047&&(fe<55296||fe>57343)&&(X=fe));break;case 4:ae=f[L+1],ue=f[L+2],he=f[L+3],(ae&192)===128&&(ue&192)===128&&(he&192)===128&&(fe=(Y&15)<<18|(ae&63)<<12|(ue&63)<<6|he&63,fe>65535&&fe<1114112&&(X=fe))}}X===null?(X=65533,se=1):X>65535&&(X-=65536,v.push(X>>>10&1023|55296),X=56320|X&1023),v.push(X),L+=se}return $(v)}var H=4096;function $(f){var t=f.length;if(t<=H)return String.fromCharCode.apply(String,f);for(var r="",v=0;v<t;)r+=String.fromCharCode.apply(String,f.slice(v,v+=H));return r}function z(f,t,r){var v="";r=Math.min(f.length,r);for(var L=t;L<r;++L)v+=String.fromCharCode(f[L]&127);return v}function N(f,t,r){var v="";r=Math.min(f.length,r);for(var L=t;L<r;++L)v+=String.fromCharCode(f[L]);return v}function re(f,t,r){var v=f.length;(!t||t<0)&&(t=0),(!r||r<0||r>v)&&(r=v);for(var L="",Y=t;Y<r;++Y)L+=te(f[Y]);return L}function P(f,t,r){for(var v=f.slice(t,r),L="",Y=0;Y<v.length;Y+=2)L+=String.fromCharCode(v[Y]+v[Y+1]*256);return L}e.prototype.slice=function(t,r){var v=this.length;t=~~t,r=r===void 0?v:~~r,t<0?(t+=v,t<0&&(t=0)):t>v&&(t=v),r<0?(r+=v,r<0&&(r=0)):r>v&&(r=v),r<t&&(r=t);var L=this.subarray(t,r);return L.__proto__=e.prototype,L};function j(f,t,r){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+t>r)throw new RangeError("Trying to access beyond buffer length")}e.prototype.readUIntLE=function(t,r,v){t=t>>>0,r=r>>>0,v||j(t,r,this.length);for(var L=this[t],Y=1,X=0;++X<r&&(Y*=256);)L+=this[t+X]*Y;return L},e.prototype.readUIntBE=function(t,r,v){t=t>>>0,r=r>>>0,v||j(t,r,this.length);for(var L=this[t+--r],Y=1;r>0&&(Y*=256);)L+=this[t+--r]*Y;return L},e.prototype.readUInt8=function(t,r){return t=t>>>0,r||j(t,1,this.length),this[t]},e.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||j(t,2,this.length),this[t]|this[t+1]<<8},e.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||j(t,2,this.length),this[t]<<8|this[t+1]},e.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},e.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||j(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},e.prototype.readIntLE=function(t,r,v){t=t>>>0,r=r>>>0,v||j(t,r,this.length);for(var L=this[t],Y=1,X=0;++X<r&&(Y*=256);)L+=this[t+X]*Y;return Y*=128,L>=Y&&(L-=Math.pow(2,8*r)),L},e.prototype.readIntBE=function(t,r,v){t=t>>>0,r=r>>>0,v||j(t,r,this.length);for(var L=r,Y=1,X=this[t+--L];L>0&&(Y*=256);)X+=this[t+--L]*Y;return Y*=128,X>=Y&&(X-=Math.pow(2,8*r)),X},e.prototype.readInt8=function(t,r){return t=t>>>0,r||j(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},e.prototype.readInt16LE=function(t,r){t=t>>>0,r||j(t,2,this.length);var v=this[t]|this[t+1]<<8;return v&32768?v|4294901760:v},e.prototype.readInt16BE=function(t,r){t=t>>>0,r||j(t,2,this.length);var v=this[t+1]|this[t]<<8;return v&32768?v|4294901760:v},e.prototype.readInt32LE=function(t,r){return t=t>>>0,r||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},e.prototype.readInt32BE=function(t,r){return t=t>>>0,r||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},e.prototype.readFloatLE=function(t,r){return t=t>>>0,r||j(t,4,this.length),s.read(this,t,!0,23,4)},e.prototype.readFloatBE=function(t,r){return t=t>>>0,r||j(t,4,this.length),s.read(this,t,!1,23,4)},e.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||j(t,8,this.length),s.read(this,t,!0,52,8)},e.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||j(t,8,this.length),s.read(this,t,!1,52,8)};function c(f,t,r,v,L,Y){if(!e.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>L||t<Y)throw new RangeError('"value" argument is out of bounds');if(r+v>f.length)throw new RangeError("Index out of range")}e.prototype.writeUIntLE=function(t,r,v,L){if(t=+t,r=r>>>0,v=v>>>0,!L){var Y=Math.pow(2,8*v)-1;c(this,t,r,v,Y,0)}var X=1,se=0;for(this[r]=t&255;++se<v&&(X*=256);)this[r+se]=t/X&255;return r+v},e.prototype.writeUIntBE=function(t,r,v,L){if(t=+t,r=r>>>0,v=v>>>0,!L){var Y=Math.pow(2,8*v)-1;c(this,t,r,v,Y,0)}var X=v-1,se=1;for(this[r+X]=t&255;--X>=0&&(se*=256);)this[r+X]=t/se&255;return r+v},e.prototype.writeUInt8=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,1,255,0),this[r]=t&255,r+1},e.prototype.writeUInt16LE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2},e.prototype.writeUInt16BE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2},e.prototype.writeUInt32LE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4},e.prototype.writeUInt32BE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},e.prototype.writeIntLE=function(t,r,v,L){if(t=+t,r=r>>>0,!L){var Y=Math.pow(2,8*v-1);c(this,t,r,v,Y-1,-Y)}var X=0,se=1,ae=0;for(this[r]=t&255;++X<v&&(se*=256);)t<0&&ae===0&&this[r+X-1]!==0&&(ae=1),this[r+X]=(t/se>>0)-ae&255;return r+v},e.prototype.writeIntBE=function(t,r,v,L){if(t=+t,r=r>>>0,!L){var Y=Math.pow(2,8*v-1);c(this,t,r,v,Y-1,-Y)}var X=v-1,se=1,ae=0;for(this[r+X]=t&255;--X>=0&&(se*=256);)t<0&&ae===0&&this[r+X+1]!==0&&(ae=1),this[r+X]=(t/se>>0)-ae&255;return r+v},e.prototype.writeInt8=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1},e.prototype.writeInt16LE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2},e.prototype.writeInt16BE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2},e.prototype.writeInt32LE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},e.prototype.writeInt32BE=function(t,r,v){return t=+t,r=r>>>0,v||c(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function E(f,t,r,v,L,Y){if(r+v>f.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(f,t,r,v,L){return t=+t,r=r>>>0,L||E(f,t,r,4),s.write(f,t,r,v,23,4),r+4}e.prototype.writeFloatLE=function(t,r,v){return U(this,t,r,!0,v)},e.prototype.writeFloatBE=function(t,r,v){return U(this,t,r,!1,v)};function Q(f,t,r,v,L){return t=+t,r=r>>>0,L||E(f,t,r,8),s.write(f,t,r,v,52,8),r+8}e.prototype.writeDoubleLE=function(t,r,v){return Q(this,t,r,!0,v)},e.prototype.writeDoubleBE=function(t,r,v){return Q(this,t,r,!1,v)},e.prototype.copy=function(t,r,v,L){if(!e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(v||(v=0),!L&&L!==0&&(L=this.length),r>=t.length&&(r=t.length),r||(r=0),L>0&&L<v&&(L=v),L===v||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),t.length-r<L-v&&(L=t.length-r+v);var Y=L-v;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(r,v,L);else if(this===t&&v<r&&r<L)for(var X=Y-1;X>=0;--X)t[X+r]=this[X+v];else Uint8Array.prototype.set.call(t,this.subarray(v,L),r);return Y},e.prototype.fill=function(t,r,v,L){if(typeof t=="string"){if(typeof r=="string"?(L=r,r=0,v=this.length):typeof v=="string"&&(L=v,v=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!e.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(t.length===1){var Y=t.charCodeAt(0);(L==="utf8"&&Y<128||L==="latin1")&&(t=Y)}}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<v)throw new RangeError("Out of range index");if(v<=r)return this;r=r>>>0,v=v===void 0?this.length:v>>>0,t||(t=0);var X;if(typeof t=="number")for(X=r;X<v;++X)this[X]=t;else{var se=e.isBuffer(t)?t:e.from(t,L),ae=se.length;if(ae===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(X=0;X<v-r;++X)this[X+r]=se[X%ae]}return this};var K=/[^+/0-9A-Za-z-_]/g;function q(f){if(f=f.split("=")[0],f=f.trim().replace(K,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function te(f){return f<16?"0"+f.toString(16):f.toString(16)}function ne(f,t){t=t||1/0;for(var r,v=f.length,L=null,Y=[],X=0;X<v;++X){if(r=f.charCodeAt(X),r>55295&&r<57344){if(!L){if(r>56319){(t-=3)>-1&&Y.push(239,191,189);continue}else if(X+1===v){(t-=3)>-1&&Y.push(239,191,189);continue}L=r;continue}if(r<56320){(t-=3)>-1&&Y.push(239,191,189),L=r;continue}r=(L-55296<<10|r-56320)+65536}else L&&(t-=3)>-1&&Y.push(239,191,189);if(L=null,r<128){if((t-=1)<0)break;Y.push(r)}else if(r<2048){if((t-=2)<0)break;Y.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;Y.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;Y.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return Y}function ie(f){for(var t=[],r=0;r<f.length;++r)t.push(f.charCodeAt(r)&255);return t}function m(f,t){for(var r,v,L,Y=[],X=0;X<f.length&&!((t-=2)<0);++X)r=f.charCodeAt(X),v=r>>8,L=r%256,Y.push(L),Y.push(v);return Y}function b(f){return i.toByteArray(q(f))}function G(f,t,r,v){for(var L=0;L<v&&!(L+r>=t.length||L>=f.length);++L)t[L+r]=f[L];return L}function J(f,t){return f instanceof t||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===t.name}function oe(f){return f!==f}},{"base64-js":9,ieee754:79}],13:[function(o,w,x){(function(i){function s(O){return Array.isArray?Array.isArray(O):R(O)==="[object Array]"}x.isArray=s;function p(O){return typeof O=="boolean"}x.isBoolean=p;function h(O){return O===null}x.isNull=h;function a(O){return O==null}x.isNullOrUndefined=a;function e(O){return typeof O=="number"}x.isNumber=e;function n(O){return typeof O=="string"}x.isString=n;function u(O){return typeof O=="symbol"}x.isSymbol=u;function d(O){return O===void 0}x.isUndefined=d;function l(O){return R(O)==="[object RegExp]"}x.isRegExp=l;function g(O){return typeof O=="object"&&O!==null}x.isObject=g;function T(O){return R(O)==="[object Date]"}x.isDate=T;function C(O){return R(O)==="[object Error]"||O instanceof Error}x.isError=C;function _(O){return typeof O=="function"}x.isFunction=_;function B(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}x.isPrimitive=B,x.isBuffer=i.isBuffer;function R(O){return Object.prototype.toString.call(O)}}).call(this,{isBuffer:o("../../is-buffer/index.js")})},{"../../is-buffer/index.js":81}],14:[function(o,w,x){var i=o("es5-ext/object/copy"),s=o("es5-ext/object/normalize-options"),p=o("es5-ext/object/valid-callable"),h=o("es5-ext/object/map"),a=o("es5-ext/object/valid-callable"),e=o("es5-ext/object/valid-value"),n=Function.prototype.bind,u=Object.defineProperty,d=Object.prototype.hasOwnProperty,l;l=function(g,T,C){var _=e(T)&&a(T.value),B;return B=i(T),delete B.writable,delete B.value,B.get=function(){return!C.overwriteDefinition&&d.call(this,g)?_:(T.value=n.call(_,C.resolveContext?C.resolveContext(this):this),u(this,g,T),this[g])},B},w.exports=function(g){var T=s(arguments[1]);return T.resolveContext!=null&&p(T.resolveContext),h(g,function(C,_){return l(_,C,T)})}},{"es5-ext/object/copy":38,"es5-ext/object/map":47,"es5-ext/object/normalize-options":48,"es5-ext/object/valid-callable":53,"es5-ext/object/valid-value":54}],15:[function(o,w,x){var i=o("es5-ext/object/assign"),s=o("es5-ext/object/normalize-options"),p=o("es5-ext/object/is-callable"),h=o("es5-ext/string/#/contains"),a;a=w.exports=function(e,n){var u,d,l,g,T;return arguments.length<2||typeof e!="string"?(g=n,n=e,e=null):g=arguments[2],e==null?(u=l=!0,d=!1):(u=h.call(e,"c"),d=h.call(e,"e"),l=h.call(e,"w")),T={value:n,configurable:u,enumerable:d,writable:l},g?i(s(g),T):T},a.gs=function(e,n,u){var d,l,g,T;return typeof e!="string"?(g=u,u=n,n=e,e=null):g=arguments[3],n==null?n=void 0:p(n)?u==null?u=void 0:p(u)||(g=u,u=void 0):(g=n,n=u=void 0),e==null?(d=!0,l=!1):(d=h.call(e,"c"),l=h.call(e,"e")),T={get:n,set:u,configurable:d,enumerable:l},g?i(s(g),T):T}},{"es5-ext/object/assign":35,"es5-ext/object/is-callable":41,"es5-ext/object/normalize-options":48,"es5-ext/string/#/contains":55}],16:[function(o,w,x){(function(i,s){var p=o("readable-stream"),h=o("end-of-stream"),a=o("inherits"),e=o("stream-shift"),n=s.from&&s.from!==Uint8Array.from?s.from([0]):new s([0]),u=function(_,B){_._corked?_.once("uncork",B):B()},d=function(_,B){_._autoDestroy&&_.destroy(B)},l=function(_,B){return function(R){R?d(_,R.message==="premature close"?null:R):B&&!_._ended&&_.end()}},g=function(_,B){if(!_||_._writableState&&_._writableState.finished)return B();if(_._writableState)return _.end(B);_.end(),B()},T=function(_){return new p.Readable({objectMode:!0,highWaterMark:16}).wrap(_)},C=function(_,B,R){if(!(this instanceof C))return new C(_,B,R);p.Duplex.call(this,R),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!R||R.autoDestroy!==!1,this._forwardDestroy=!R||R.destroy!==!1,this._forwardEnd=!R||R.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,_&&this.setWritable(_),B&&this.setReadable(B)};a(C,p.Duplex),C.obj=function(_,B,R){return R||(R={}),R.objectMode=!0,R.highWaterMark=16,new C(_,B,R)},C.prototype.cork=function(){++this._corked===1&&this.emit("cork")},C.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},C.prototype.setWritable=function(_){if(this._unwrite&&this._unwrite(),this.destroyed){_&&_.destroy&&_.destroy();return}if(_===null||_===!1){this.end();return}var B=this,R=h(_,{writable:!0,readable:!1},l(this,this._forwardEnd)),O=function(){var A=B._ondrain;B._ondrain=null,A&&A()},I=function(){B._writable.removeListener("drain",O),R()};this._unwrite&&i.nextTick(O),this._writable=_,this._writable.on("drain",O),this._unwrite=I,this.uncork()},C.prototype.setReadable=function(_){if(this._unread&&this._unread(),this.destroyed){_&&_.destroy&&_.destroy();return}if(_===null||_===!1){this.push(null),this.resume();return}var B=this,R=h(_,{writable:!1,readable:!0},l(this)),O=function(){B._forward()},I=function(){B.push(null)},A=function(){B._readable2.removeListener("readable",O),B._readable2.removeListener("end",I),R()};this._drained=!0,this._readable=_,this._readable2=_._readableState?_:T(_),this._readable2.on("readable",O),this._readable2.on("end",I),this._unread=A,this._forward()},C.prototype._read=function(){this._drained=!0,this._forward()},C.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var _;this._drained&&(_=e(this._readable2))!==null;)this.destroyed||(this._drained=this.push(_));this._forwarding=!1}},C.prototype.destroy=function(_){if(!this.destroyed){this.destroyed=!0;var B=this;i.nextTick(function(){B._destroy(_)})}},C.prototype._destroy=function(_){if(_){var B=this._ondrain;this._ondrain=null,B?B(_):this.emit("error",_)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},C.prototype._write=function(_,B,R){if(this.destroyed)return R();if(this._corked)return u(this,this._write.bind(this,_,B,R));if(_===n)return this._finish(R);if(!this._writable)return R();this._writable.write(_)===!1?this._ondrain=R:R()},C.prototype._finish=function(_){var B=this;this.emit("preend"),u(this,function(){g(B._forwardEnd&&B._writable,function(){B._writableState.prefinished===!1&&(B._writableState.prefinished=!0),B.emit("prefinish"),u(B,_)})})},C.prototype.end=function(_,B,R){return typeof _=="function"?this.end(null,null,_):typeof B=="function"?this.end(_,null,B):(this._ended=!0,_&&this.write(_),this._writableState.ending||this.write(n),p.Writable.prototype.end.call(this,R))},w.exports=C}).call(this,o("_process"),o("buffer").Buffer)},{_process:92,buffer:12,"end-of-stream":17,inherits:80,"readable-stream":106,"stream-shift":109}],17:[function(o,w,x){var i=o("once"),s=function(){},p=function(e){return e.setHeader&&typeof e.abort=="function"},h=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},a=function(e,n,u){if(typeof n=="function")return a(e,null,n);n||(n={}),u=i(u||s);var d=e._writableState,l=e._readableState,g=n.readable||n.readable!==!1&&e.readable,T=n.writable||n.writable!==!1&&e.writable,C=function(){e.writable||_()},_=function(){T=!1,g||u.call(e)},B=function(){g=!1,T||u.call(e)},R=function(S){u.call(e,S?new Error("exited with error code: "+S):null)},O=function(S){u.call(e,S)},I=function(){if(g&&!(l&&l.ended))return u.call(e,new Error("premature close"));if(T&&!(d&&d.ended))return u.call(e,new Error("premature close"))},A=function(){e.req.on("finish",_)};return p(e)?(e.on("complete",_),e.on("abort",I),e.req?A():e.on("request",A)):T&&!d&&(e.on("end",C),e.on("close",C)),h(e)&&e.on("exit",R),e.on("end",B),e.on("finish",_),n.error!==!1&&e.on("error",O),e.on("close",I),function(){e.removeListener("complete",_),e.removeListener("abort",I),e.removeListener("request",A),e.req&&e.req.removeListener("finish",_),e.removeListener("end",C),e.removeListener("close",C),e.removeListener("finish",_),e.removeListener("exit",R),e.removeListener("end",B),e.removeListener("error",O),e.removeListener("close",I)}};w.exports=a},{once:90}],18:[function(o,w,x){var i=o("../../object/valid-value");w.exports=function(){return i(this).length=0,this}},{"../../object/valid-value":54}],19:[function(o,w,x){var i=o("../../number/is-nan"),s=o("../../number/to-pos-integer"),p=o("../../object/valid-value"),h=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,e=Math.abs,n=Math.floor;w.exports=function(u){var d,l,g,T;if(!i(u))return h.apply(this,arguments);for(l=s(p(this).length),g=arguments[1],isNaN(g)?g=0:g>=0?g=n(g):g=s(this.length)-n(e(g)),d=g;d<l;++d)if(a.call(this,d)&&(T=this[d],i(T)))return d;return-1}},{"../../number/is-nan":29,"../../number/to-pos-integer":33,"../../object/valid-value":54}],20:[function(o,w,x){w.exports=o("./is-implemented")()?Array.from:o("./shim")},{"./is-implemented":21,"./shim":22}],21:[function(o,w,x){w.exports=function(){var i=Array.from,s,p;return typeof i!="function"?!1:(s=["raz","dwa"],p=i(s),Boolean(p&&p!==s&&p[1]==="dwa"))}},{}],22:[function(o,w,x){var i=o("es6-symbol").iterator,s=o("../../function/is-arguments"),p=o("../../function/is-function"),h=o("../../number/to-pos-integer"),a=o("../../object/valid-callable"),e=o("../../object/valid-value"),n=o("../../object/is-value"),u=o("../../string/is-string"),d=Array.isArray,l=Function.prototype.call,g={configurable:!0,enumerable:!0,writable:!0,value:null},T=Object.defineProperty;w.exports=function(C){var _=arguments[1],B=arguments[2],R,O,I,A,S,k,F,M,ee,y;if(C=Object(e(C)),n(_)&&a(_),!this||this===Array||!p(this)){if(!_){if(s(C))return S=C.length,S!==1?Array.apply(null,C):(A=new Array(1),A[0]=C[0],A);if(d(C)){for(A=new Array(S=C.length),O=0;O<S;++O)A[O]=C[O];return A}}A=[]}else R=this;if(!d(C)){if((ee=C[i])!==void 0){for(F=a(ee).call(C),R&&(A=new R),M=F.next(),O=0;!M.done;)y=_?l.call(_,B,M.value,O):M.value,R?(g.value=y,T(A,O,g)):A[O]=y,M=F.next(),++O;S=O}else if(u(C)){for(S=C.length,R&&(A=new R),O=0,I=0;O<S;++O)y=C[O],O+1<S&&(k=y.charCodeAt(0),k>=55296&&k<=56319&&(y+=C[++O])),y=_?l.call(_,B,y,I):y,R?(g.value=y,T(A,I,g)):A[I]=y,++I;S=I}}if(S===void 0)for(S=h(C.length),R&&(A=new R(S)),O=0;O<S;++O)y=_?l.call(_,B,C[O],O):C[O],R?(g.value=y,T(A,O,g)):A[O]=y;return R&&(g.value=null,A.length=S),A}},{"../../function/is-arguments":23,"../../function/is-function":24,"../../number/to-pos-integer":33,"../../object/is-value":43,"../../object/valid-callable":53,"../../object/valid-value":54,"../../string/is-string":58,"es6-symbol":72}],23:[function(o,w,x){var i=Object.prototype.toString,s=i.call(function(){return arguments}());w.exports=function(p){return i.call(p)===s}},{}],24:[function(o,w,x){var i=Object.prototype.toString,s=i.call(o("./noop"));w.exports=function(p){return typeof p=="function"&&i.call(p)===s}},{"./noop":25}],25:[function(o,w,x){w.exports=function(){}},{}],26:[function(o,w,x){w.exports=o("./is-implemented")()?Math.sign:o("./shim")},{"./is-implemented":27,"./shim":28}],27:[function(o,w,x){w.exports=function(){var i=Math.sign;return typeof i!="function"?!1:i(10)===1&&i(-20)===-1}},{}],28:[function(o,w,x){w.exports=function(i){return i=Number(i),isNaN(i)||i===0?i:i>0?1:-1}},{}],29:[function(o,w,x){w.exports=o("./is-implemented")()?Number.isNaN:o("./shim")},{"./is-implemented":30,"./shim":31}],30:[function(o,w,x){w.exports=function(){var i=Number.isNaN;return typeof i!="function"?!1:!i({})&&i(NaN)&&!i(34)}},{}],31:[function(o,w,x){w.exports=function(i){return i!==i}},{}],32:[function(o,w,x){var i=o("../math/sign"),s=Math.abs,p=Math.floor;w.exports=function(h){return isNaN(h)?0:(h=Number(h),h===0||!isFinite(h)?h:i(h)*p(s(h)))}},{"../math/sign":26}],33:[function(o,w,x){var i=o("./to-integer"),s=Math.max;w.exports=function(p){return s(0,i(p))}},{"./to-integer":32}],34:[function(o,w,x){var i=o("./valid-callable"),s=o("./valid-value"),p=Function.prototype.bind,h=Function.prototype.call,a=Object.keys,e=Object.prototype.propertyIsEnumerable;w.exports=function(n,u){return function(d,l){var g,T=arguments[2],C=arguments[3];return d=Object(s(d)),i(l),g=a(d),C&&g.sort(typeof C=="function"?p.call(C,d):void 0),typeof n!="function"&&(n=g[n]),h.call(n,g,function(_,B){return e.call(d,_)?h.call(l,T,d[_],_,d,B):u})}}},{"./valid-callable":53,"./valid-value":54}],35:[function(o,w,x){w.exports=o("./is-implemented")()?Object.assign:o("./shim")},{"./is-implemented":36,"./shim":37}],36:[function(o,w,x){w.exports=function(){var i=Object.assign,s;return typeof i!="function"?!1:(s={foo:"raz"},i(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")}},{}],37:[function(o,w,x){var i=o("../keys"),s=o("../valid-value"),p=Math.max;w.exports=function(h,a){var e,n,u=p(arguments.length,2),d;for(h=Object(s(h)),d=function(l){try{h[l]=a[l]}catch(g){e||(e=g)}},n=1;n<u;++n)a=arguments[n],i(a).forEach(d);if(e!==void 0)throw e;return h}},{"../keys":44,"../valid-value":54}],38:[function(o,w,x){var i=o("../array/from"),s=o("./assign"),p=o("./valid-value");w.exports=function(h){var a=Object(p(h)),e=arguments[1],n=Object(arguments[2]);if(a!==h&&!e)return a;var u={};return e?i(e,function(d){(n.ensure||d in h)&&(u[d]=h[d])}):s(u,h),u}},{"../array/from":20,"./assign":35,"./valid-value":54}],39:[function(o,w,x){var i=Object.create,s;o("./set-prototype-of/is-implemented")()||(s=o("./set-prototype-of/shim")),w.exports=function(){var p,h,a;return!s||s.level!==1?i:(p={},h={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){if(e==="__proto__"){h[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}h[e]=a}),Object.defineProperties(p,h),Object.defineProperty(s,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:p}),function(e,n){return i(e===null?p:e,n)})}()},{"./set-prototype-of/is-implemented":51,"./set-prototype-of/shim":52}],40:[function(o,w,x){w.exports=o("./_iterate")("forEach")},{"./_iterate":34}],41:[function(o,w,x){w.exports=function(i){return typeof i=="function"}},{}],42:[function(o,w,x){var i=o("./is-value"),s={function:!0,object:!0};w.exports=function(p){return i(p)&&s[typeof p]||!1}},{"./is-value":43}],43:[function(o,w,x){var i=o("../function/noop")();w.exports=function(s){return s!==i&&s!==null}},{"../function/noop":25}],44:[function(o,w,x){w.exports=o("./is-implemented")()?Object.keys:o("./shim")},{"./is-implemented":45,"./shim":46}],45:[function(o,w,x){w.exports=function(){try{return Object.keys("primitive"),!0}catch(i){return!1}}},{}],46:[function(o,w,x){var i=o("../is-value"),s=Object.keys;w.exports=function(p){return s(i(p)?Object(p):p)}},{"../is-value":43}],47:[function(o,w,x){var i=o("./valid-callable"),s=o("./for-each"),p=Function.prototype.call;w.exports=function(h,a){var e={},n=arguments[2];return i(a),s(h,function(u,d,l,g){e[d]=p.call(a,n,u,d,l,g)}),e}},{"./for-each":40,"./valid-callable":53}],48:[function(o,w,x){var i=o("./is-value"),s=Array.prototype.forEach,p=Object.create,h=function(a,e){var n;for(n in a)e[n]=a[n]};w.exports=function(a){var e=p(null);return s.call(arguments,function(n){i(n)&&h(Object(n),e)}),e}},{"./is-value":43}],49:[function(o,w,x){var i=Array.prototype.forEach,s=Object.create;w.exports=function(p){var h=s(null);return i.call(arguments,function(a){h[a]=!0}),h}},{}],50:[function(o,w,x){w.exports=o("./is-implemented")()?Object.setPrototypeOf:o("./shim")},{"./is-implemented":51,"./shim":52}],51:[function(o,w,x){var i=Object.create,s=Object.getPrototypeOf,p={};w.exports=function(){var h=Object.setPrototypeOf,a=arguments[0]||i;return typeof h!="function"?!1:s(h(a(null),p))===p}},{}],52:[function(o,w,x){var i=o("../is-object"),s=o("../valid-value"),p=Object.prototype.isPrototypeOf,h=Object.defineProperty,a={configurable:!0,enumerable:!1,writable:!0,value:void 0},e;e=function(n,u){if(s(n),u===null||i(u))return n;throw new TypeError("Prototype must be null or an object")},w.exports=function(n){var u,d;return n?(n.level===2?n.set?(d=n.set,u=function(l,g){return d.call(e(l,g),g),l}):u=function(l,g){return e(l,g).__proto__=g,l}:u=function l(g,T){var C;return e(g,T),C=p.call(l.nullPolyfill,g),C&&delete l.nullPolyfill.__proto__,T===null&&(T=l.nullPolyfill),g.__proto__=T,C&&h(l.nullPolyfill,"__proto__",a),g},Object.defineProperty(u,"level",{configurable:!1,enumerable:!1,writable:!1,value:n.level})):null}(function(){var n=Object.create(null),u={},d,l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{d=l.set,d.call(n,u)}catch(g){}if(Object.getPrototypeOf(n)===u)return{set:d,level:2}}return n.__proto__=u,Object.getPrototypeOf(n)===u?{level:2}:(n={},n.__proto__=u,Object.getPrototypeOf(n)===u?{level:1}:!1)}()),o("../create")},{"../create":39,"../is-object":42,"../valid-value":54}],53:[function(o,w,x){w.exports=function(i){if(typeof i!="function")throw new TypeError(i+" is not a function");return i}},{}],54:[function(o,w,x){var i=o("./is-value");w.exports=function(s){if(!i(s))throw new TypeError("Cannot use null or undefined");return s}},{"./is-value":43}],55:[function(o,w,x){w.exports=o("./is-implemented")()?String.prototype.contains:o("./shim")},{"./is-implemented":56,"./shim":57}],56:[function(o,w,x){var i="razdwatrzy";w.exports=function(){return typeof i.contains!="function"?!1:i.contains("dwa")===!0&&i.contains("foo")===!1}},{}],57:[function(o,w,x){var i=String.prototype.indexOf;w.exports=function(s){return i.call(this,s,arguments[1])>-1}},{}],58:[function(o,w,x){var i=Object.prototype.toString,s=i.call("");w.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||i.call(p)===s)||!1}},{}],59:[function(o,w,x){var i=o("es5-ext/object/set-prototype-of"),s=o("es5-ext/string/#/contains"),p=o("d"),h=o("es6-symbol"),a=o("./"),e=Object.defineProperty,n;n=w.exports=function(u,d){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");a.call(this,u),d?s.call(d,"key+value")?d="key+value":s.call(d,"key")?d="key":d="value":d="value",e(this,"__kind__",p("",d))},i&&i(n,a),delete n.prototype.constructor,n.prototype=Object.create(a.prototype,{_resolve:p(function(u){return this.__kind__==="value"?this.__list__[u]:this.__kind__==="key+value"?[u,this.__list__[u]]:u})}),e(n.prototype,h.toStringTag,p("c","Array Iterator"))},{"./":62,d:15,"es5-ext/object/set-prototype-of":50,"es5-ext/string/#/contains":55,"es6-symbol":72}],60:[function(o,w,x){var i=o("es5-ext/function/is-arguments"),s=o("es5-ext/object/valid-callable"),p=o("es5-ext/string/is-string"),h=o("./get"),a=Array.isArray,e=Function.prototype.call,n=Array.prototype.some;w.exports=function(u,d){var l,g=arguments[2],T,C,_,B,R,O,I;if(a(u)||i(u)?l="array":p(u)?l="string":u=h(u),s(d),C=function(){_=!0},l==="array"){n.call(u,function(A){return e.call(d,g,A,C),_});return}if(l==="string"){for(R=u.length,B=0;B<R&&(O=u[B],B+1<R&&(I=O.charCodeAt(0),I>=55296&&I<=56319&&(O+=u[++B])),e.call(d,g,O,C),!_);++B);return}for(T=u.next();!T.done;){if(e.call(d,g,T.value,C),_)return;T=u.next()}}},{"./get":61,"es5-ext/function/is-arguments":23,"es5-ext/object/valid-callable":53,"es5-ext/string/is-string":58}],61:[function(o,w,x){var i=o("es5-ext/function/is-arguments"),s=o("es5-ext/string/is-string"),p=o("./array"),h=o("./string"),a=o("./valid-iterable"),e=o("es6-symbol").iterator;w.exports=function(n){return typeof a(n)[e]=="function"?n[e]():i(n)?new p(n):s(n)?new h(n):new p(n)}},{"./array":59,"./string":64,"./valid-iterable":65,"es5-ext/function/is-arguments":23,"es5-ext/string/is-string":58,"es6-symbol":72}],62:[function(o,w,x){var i=o("es5-ext/array/#/clear"),s=o("es5-ext/object/assign"),p=o("es5-ext/object/valid-callable"),h=o("es5-ext/object/valid-value"),a=o("d"),e=o("d/auto-bind"),n=o("es6-symbol"),u=Object.defineProperty,d=Object.defineProperties,l;w.exports=l=function(g,T){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");d(this,{__list__:a("w",h(g)),__context__:a("w",T),__nextIndex__:a("w",0)}),T&&(p(T.on),T.on("_add",this._onAdd),T.on("_delete",this._onDelete),T.on("_clear",this._onClear))},delete l.prototype.constructor,d(l.prototype,s({_next:a(function(){var g;if(this.__list__){if(this.__redo__&&(g=this.__redo__.shift(),g!==void 0))return g;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:a(function(){return this._createResult(this._next())}),_createResult:a(function(g){return g===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(g)}}),_resolve:a(function(g){return this.__list__[g]}),_unBind:a(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:a(function(){return"[object "+(this[n.toStringTag]||"Object")+"]"})},e({_onAdd:a(function(g){if(!(g>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){u(this,"__redo__",a("c",[g]));return}this.__redo__.forEach(function(T,C){T>=g&&(this.__redo__[C]=++T)},this),this.__redo__.push(g)}}),_onDelete:a(function(g){var T;g>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(T=this.__redo__.indexOf(g),T!==-1&&this.__redo__.splice(T,1),this.__redo__.forEach(function(C,_){C>g&&(this.__redo__[_]=--C)},this)))}),_onClear:a(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),u(l.prototype,n.iterator,a(function(){return this}))},{d:15,"d/auto-bind":14,"es5-ext/array/#/clear":18,"es5-ext/object/assign":35,"es5-ext/object/valid-callable":53,"es5-ext/object/valid-value":54,"es6-symbol":72}],63:[function(o,w,x){var i=o("es5-ext/function/is-arguments"),s=o("es5-ext/object/is-value"),p=o("es5-ext/string/is-string"),h=o("es6-symbol").iterator,a=Array.isArray;w.exports=function(e){return s(e)?a(e)||p(e)||i(e)?!0:typeof e[h]=="function":!1}},{"es5-ext/function/is-arguments":23,"es5-ext/object/is-value":43,"es5-ext/string/is-string":58,"es6-symbol":72}],64:[function(o,w,x){var i=o("es5-ext/object/set-prototype-of"),s=o("d"),p=o("es6-symbol"),h=o("./"),a=Object.defineProperty,e;e=w.exports=function(n){if(!(this instanceof e))throw new TypeError("Constructor requires 'new'");n=String(n),h.call(this,n),a(this,"__length__",s("",n.length))},i&&i(e,h),delete e.prototype.constructor,e.prototype=Object.create(h.prototype,{_next:s(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:s(function(n){var u=this.__list__[n],d;return this.__nextIndex__===this.__length__?u:(d=u.charCodeAt(0),d>=55296&&d<=56319?u+this.__list__[this.__nextIndex__++]:u)})}),a(e.prototype,p.toStringTag,s("c","String Iterator"))},{"./":62,d:15,"es5-ext/object/set-prototype-of":50,"es6-symbol":72}],65:[function(o,w,x){var i=o("./is-iterable");w.exports=function(s){if(!i(s))throw new TypeError(s+" is not iterable");return s}},{"./is-iterable":63}],66:[function(o,w,x){w.exports=o("./is-implemented")()?Map:o("./polyfill")},{"./is-implemented":67,"./polyfill":71}],67:[function(o,w,x){w.exports=function(){var i,s,p;if(typeof Map!="function")return!1;try{i=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(h){return!1}return!(String(i)!=="[object Map]"||i.size!==3||typeof i.clear!="function"||typeof i.delete!="function"||typeof i.entries!="function"||typeof i.forEach!="function"||typeof i.get!="function"||typeof i.has!="function"||typeof i.keys!="function"||typeof i.set!="function"||typeof i.values!="function"||(s=i.entries(),p=s.next(),p.done!==!1)||!p.value||p.value[0]!=="raz"||p.value[1]!=="one")}},{}],68:[function(o,w,x){w.exports=function(){return typeof Map>"u"?!1:Object.prototype.toString.call(new Map)==="[object Map]"}()},{}],69:[function(o,w,x){w.exports=o("es5-ext/object/primitive-set")("key","value","key+value")},{"es5-ext/object/primitive-set":49}],70:[function(o,w,x){var i=o("es5-ext/object/set-prototype-of"),s=o("d"),p=o("es6-iterator"),h=o("es6-symbol").toStringTag,a=o("./iterator-kinds"),e=Object.defineProperties,n=p.prototype._unBind,u;u=w.exports=function(d,l){if(!(this instanceof u))return new u(d,l);p.call(this,d.__mapKeysData__,d),(!l||!a[l])&&(l="key+value"),e(this,{__kind__:s("",l),__values__:s("w",d.__mapValuesData__)})},i&&i(u,p),u.prototype=Object.create(p.prototype,{constructor:s(u),_resolve:s(function(d){return this.__kind__==="value"?this.__values__[d]:this.__kind__==="key"?this.__list__[d]:[this.__list__[d],this.__values__[d]]}),_unBind:s(function(){this.__values__=null,n.call(this)}),toString:s(function(){return"[object Map Iterator]"})}),Object.defineProperty(u.prototype,h,s("c","Map Iterator"))},{"./iterator-kinds":69,d:15,"es5-ext/object/set-prototype-of":50,"es6-iterator":62,"es6-symbol":72}],71:[function(o,w,x){var i=o("es5-ext/array/#/clear"),s=o("es5-ext/array/#/e-index-of"),p=o("es5-ext/object/set-prototype-of"),h=o("es5-ext/object/valid-callable"),a=o("es5-ext/object/valid-value"),e=o("d"),n=o("event-emitter"),u=o("es6-symbol"),d=o("es6-iterator/valid-iterable"),l=o("es6-iterator/for-of"),g=o("./lib/iterator"),T=o("./is-native-implemented"),C=Function.prototype.call,_=Object.defineProperties,B=Object.getPrototypeOf,R;w.exports=R=function(){var O=arguments[0],I,A,S;if(!(this instanceof R))throw new TypeError("Constructor requires 'new'");return T&&p&&Map!==R?S=p(new Map,B(this)):S=this,O!=null&&d(O),_(S,{__mapKeysData__:e("c",I=[]),__mapValuesData__:e("c",A=[])}),O&&l(O,function(k){var F=a(k)[0];k=k[1],s.call(I,F)===-1&&(I.push(F),A.push(k))},S),S},T&&(p&&p(R,Map),R.prototype=Object.create(Map.prototype,{constructor:e(R)})),n(_(R.prototype,{clear:e(function(){this.__mapKeysData__.length&&(i.call(this.__mapKeysData__),i.call(this.__mapValuesData__),this.emit("_clear"))}),delete:e(function(O){var I=s.call(this.__mapKeysData__,O);return I===-1?!1:(this.__mapKeysData__.splice(I,1),this.__mapValuesData__.splice(I,1),this.emit("_delete",I,O),!0)}),entries:e(function(){return new g(this,"key+value")}),forEach:e(function(O){var I=arguments[1],A,S;for(h(O),A=this.entries(),S=A._next();S!==void 0;)C.call(O,I,this.__mapValuesData__[S],this.__mapKeysData__[S],this),S=A._next()}),get:e(function(O){var I=s.call(this.__mapKeysData__,O);if(I!==-1)return this.__mapValuesData__[I]}),has:e(function(O){return s.call(this.__mapKeysData__,O)!==-1}),keys:e(function(){return new g(this,"key")}),set:e(function(O,I){var A=s.call(this.__mapKeysData__,O),S;return A===-1&&(A=this.__mapKeysData__.push(O)-1,S=!0),this.__mapValuesData__[A]=I,S&&this.emit("_add",A,O),this}),size:e.gs(function(){return this.__mapKeysData__.length}),values:e(function(){return new g(this,"value")}),toString:e(function(){return"[object Map]"})})),Object.defineProperty(R.prototype,u.iterator,e(function(){return this.entries()})),Object.defineProperty(R.prototype,u.toStringTag,e("c","Map"))},{"./is-native-implemented":68,"./lib/iterator":70,d:15,"es5-ext/array/#/clear":18,"es5-ext/array/#/e-index-of":19,"es5-ext/object/set-prototype-of":50,"es5-ext/object/valid-callable":53,"es5-ext/object/valid-value":54,"es6-iterator/for-of":60,"es6-iterator/valid-iterable":65,"es6-symbol":72,"event-emitter":77}],72:[function(o,w,x){w.exports=o("./is-implemented")()?Symbol:o("./polyfill")},{"./is-implemented":73,"./polyfill":75}],73:[function(o,w,x){var i={object:!0,symbol:!0};w.exports=function(){var s;if(typeof Symbol!="function")return!1;s=Symbol("test symbol");try{String(s)}catch(p){return!1}return!(!i[typeof Symbol.iterator]||!i[typeof Symbol.toPrimitive]||!i[typeof Symbol.toStringTag])}},{}],74:[function(o,w,x){w.exports=function(i){return i?typeof i=="symbol"?!0:!i.constructor||i.constructor.name!=="Symbol"?!1:i[i.constructor.toStringTag]==="Symbol":!1}},{}],75:[function(o,w,x){var i=o("d"),s=o("./validate-symbol"),p=Object.create,h=Object.defineProperties,a=Object.defineProperty,e=Object.prototype,n,u,d,l=p(null),g;if(typeof Symbol=="function"){n=Symbol;try{String(n()),g=!0}catch(C){}}var T=function(){var C=p(null);return function(_){for(var B=0,R,O;C[_+(B||"")];)++B;return _+=B||"",C[_]=!0,R="@@"+_,a(e,R,i.gs(null,function(I){O||(O=!0,a(this,R,i(I)),O=!1)})),R}}();d=function(_){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return u(_)},w.exports=u=function C(_){var B;if(this instanceof C)throw new TypeError("Symbol is not a constructor");return g?n(_):(B=p(d.prototype),_=_===void 0?"":String(_),h(B,{__description__:i("",_),__name__:i("",T(_))}))},h(u,{for:i(function(C){return l[C]?l[C]:l[C]=u(String(C))}),keyFor:i(function(C){var _;s(C);for(_ in l)if(l[_]===C)return _}),hasInstance:i("",n&&n.hasInstance||u("hasInstance")),isConcatSpreadable:i("",n&&n.isConcatSpreadable||u("isConcatSpreadable")),iterator:i("",n&&n.iterator||u("iterator")),match:i("",n&&n.match||u("match")),replace:i("",n&&n.replace||u("replace")),search:i("",n&&n.search||u("search")),species:i("",n&&n.species||u("species")),split:i("",n&&n.split||u("split")),toPrimitive:i("",n&&n.toPrimitive||u("toPrimitive")),toStringTag:i("",n&&n.toStringTag||u("toStringTag")),unscopables:i("",n&&n.unscopables||u("unscopables"))}),h(d.prototype,{constructor:i(u),toString:i("",function(){return this.__name__})}),h(u.prototype,{toString:i(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:i(function(){return s(this)})}),a(u.prototype,u.toPrimitive,i("",function(){var C=s(this);return typeof C=="symbol"?C:C.toString()})),a(u.prototype,u.toStringTag,i("c","Symbol")),a(d.prototype,u.toStringTag,i("c",u.prototype[u.toStringTag])),a(d.prototype,u.toPrimitive,i("c",u.prototype[u.toPrimitive]))},{"./validate-symbol":76,d:15}],76:[function(o,w,x){var i=o("./is-symbol");w.exports=function(s){if(!i(s))throw new TypeError(s+" is not a symbol");return s}},{"./is-symbol":74}],77:[function(o,w,x){var i=o("d"),s=o("es5-ext/object/valid-callable"),p=Function.prototype.apply,h=Function.prototype.call,a=Object.create,e=Object.defineProperty,n=Object.defineProperties,u=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0},l,g,T,C,_,B,R;l=function(O,I){var A;return s(I),u.call(this,"__ee__")?A=this.__ee__:(A=d.value=a(null),e(this,"__ee__",d),d.value=null),A[O]?typeof A[O]=="object"?A[O].push(I):A[O]=[A[O],I]:A[O]=I,this},g=function(O,I){var A,S;return s(I),S=this,l.call(this,O,A=function(){T.call(S,O,A),p.call(I,this,arguments)}),A.__eeOnceListener__=I,this},T=function(O,I){var A,S,k,F;if(s(I),!u.call(this,"__ee__"))return this;if(A=this.__ee__,!A[O])return this;if(S=A[O],typeof S=="object")for(F=0;k=S[F];++F)(k===I||k.__eeOnceListener__===I)&&(S.length===2?A[O]=S[F?0:1]:S.splice(F,1));else(S===I||S.__eeOnceListener__===I)&&delete A[O];return this},C=function(O){var I,A,S,k,F;if(u.call(this,"__ee__")&&(k=this.__ee__[O],!!k))if(typeof k=="object"){for(A=arguments.length,F=new Array(A-1),I=1;I<A;++I)F[I-1]=arguments[I];for(k=k.slice(),I=0;S=k[I];++I)p.call(S,this,F)}else switch(arguments.length){case 1:h.call(k,this);break;case 2:h.call(k,this,arguments[1]);break;case 3:h.call(k,this,arguments[1],arguments[2]);break;default:for(A=arguments.length,F=new Array(A-1),I=1;I<A;++I)F[I-1]=arguments[I];p.call(k,this,F)}},_={on:l,once:g,off:T,emit:C},B={on:i(l),once:i(g),off:i(T),emit:i(C)},R=n({},B),w.exports=x=function(O){return O==null?a(R):n(Object(O),B)},x.methods=_},{d:15,"es5-ext/object/valid-callable":53}],78:[function(o,w,x){var i=Object.create||F,s=Object.keys||M,p=Function.prototype.bind||ee;function h(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}w.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._maxListeners=void 0;var a=10,e;try{var n={};Object.defineProperty&&Object.defineProperty(n,"x",{value:0}),e=n.x===0}catch(y){e=!1}e?Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(y){if(typeof y!="number"||y<0||y!==y)throw new TypeError('"defaultMaxListeners" must be a positive number');a=y}}):h.defaultMaxListeners=a,h.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this};function u(y){return y._maxListeners===void 0?h.defaultMaxListeners:y._maxListeners}h.prototype.getMaxListeners=function(){return u(this)};function d(y,D,W){if(D)y.call(W);else for(var V=y.length,Z=S(y,V),H=0;H<V;++H)Z[H].call(W)}function l(y,D,W,V){if(D)y.call(W,V);else for(var Z=y.length,H=S(y,Z),$=0;$<Z;++$)H[$].call(W,V)}function g(y,D,W,V,Z){if(D)y.call(W,V,Z);else for(var H=y.length,$=S(y,H),z=0;z<H;++z)$[z].call(W,V,Z)}function T(y,D,W,V,Z,H){if(D)y.call(W,V,Z,H);else for(var $=y.length,z=S(y,$),N=0;N<$;++N)z[N].call(W,V,Z,H)}function C(y,D,W,V){if(D)y.apply(W,V);else for(var Z=y.length,H=S(y,Z),$=0;$<Z;++$)H[$].apply(W,V)}h.prototype.emit=function(D){var W,V,Z,H,$,z,N=D==="error";if(z=this._events,z)N=N&&z.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(W=arguments[1]),W instanceof Error)throw W;var re=new Error('Unhandled "error" event. ('+W+")");throw re.context=W,re}if(V=z[D],!V)return!1;var P=typeof V=="function";switch(Z=arguments.length,Z){case 1:d(V,P,this);break;case 2:l(V,P,this,arguments[1]);break;case 3:g(V,P,this,arguments[1],arguments[2]);break;case 4:T(V,P,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(Z-1),$=1;$<Z;$++)H[$-1]=arguments[$];C(V,P,this,H)}return!0};function _(y,D,W,V){var Z,H,$;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if(H=y._events,H?(H.newListener&&(y.emit("newListener",D,W.listener?W.listener:W),H=y._events),$=H[D]):(H=y._events=i(null),y._eventsCount=0),!$)$=H[D]=W,++y._eventsCount;else if(typeof $=="function"?$=H[D]=V?[W,$]:[$,W]:V?$.unshift(W):$.push(W),!$.warned&&(Z=u(y),Z&&Z>0&&$.length>Z)){$.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+$.length+' "'+String(D)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');z.name="MaxListenersExceededWarning",z.emitter=y,z.type=D,z.count=$.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",z.name,z.message)}return y}h.prototype.addListener=function(D,W){return _(this,D,W,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(D,W){return _(this,D,W,!0)};function B(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var y=new Array(arguments.length),D=0;D<y.length;++D)y[D]=arguments[D];this.listener.apply(this.target,y)}}function R(y,D,W){var V={fired:!1,wrapFn:void 0,target:y,type:D,listener:W},Z=p.call(B,V);return Z.listener=W,V.wrapFn=Z,Z}h.prototype.once=function(D,W){if(typeof W!="function")throw new TypeError('"listener" argument must be a function');return this.on(D,R(this,D,W)),this},h.prototype.prependOnceListener=function(D,W){if(typeof W!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(D,R(this,D,W)),this},h.prototype.removeListener=function(D,W){var V,Z,H,$,z;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if(Z=this._events,!Z)return this;if(V=Z[D],!V)return this;if(V===W||V.listener===W)--this._eventsCount===0?this._events=i(null):(delete Z[D],Z.removeListener&&this.emit("removeListener",D,V.listener||W));else if(typeof V!="function"){for(H=-1,$=V.length-1;$>=0;$--)if(V[$]===W||V[$].listener===W){z=V[$].listener,H=$;break}if(H<0)return this;H===0?V.shift():A(V,H),V.length===1&&(Z[D]=V[0]),Z.removeListener&&this.emit("removeListener",D,z||W)}return this},h.prototype.removeAllListeners=function(D){var W,V,Z;if(V=this._events,!V)return this;if(!V.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):V[D]&&(--this._eventsCount===0?this._events=i(null):delete V[D]),this;if(arguments.length===0){var H=s(V),$;for(Z=0;Z<H.length;++Z)$=H[Z],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(W=V[D],typeof W=="function")this.removeListener(D,W);else if(W)for(Z=W.length-1;Z>=0;Z--)this.removeListener(D,W[Z]);return this};function O(y,D,W){var V=y._events;if(!V)return[];var Z=V[D];return Z?typeof Z=="function"?W?[Z.listener||Z]:[Z]:W?k(Z):S(Z,Z.length):[]}h.prototype.listeners=function(D){return O(this,D,!0)},h.prototype.rawListeners=function(D){return O(this,D,!1)},h.listenerCount=function(y,D){return typeof y.listenerCount=="function"?y.listenerCount(D):I.call(y,D)},h.prototype.listenerCount=I;function I(y){var D=this._events;if(D){var W=D[y];if(typeof W=="function")return 1;if(W)return W.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function A(y,D){for(var W=D,V=W+1,Z=y.length;V<Z;W+=1,V+=1)y[W]=y[V];y.pop()}function S(y,D){for(var W=new Array(D),V=0;V<D;++V)W[V]=y[V];return W}function k(y){for(var D=new Array(y.length),W=0;W<D.length;++W)D[W]=y[W].listener||y[W];return D}function F(y){var D=function(){};return D.prototype=y,new D}function M(y){for(var D in y)Object.prototype.hasOwnProperty.call(y,D);return D}function ee(y){var D=this;return function(){return D.apply(y,arguments)}}},{}],79:[function(o,w,x){x.read=function(i,s,p,h,a){var e,n,u=a*8-h-1,d=(1<<u)-1,l=d>>1,g=-7,T=p?a-1:0,C=p?-1:1,_=i[s+T];for(T+=C,e=_&(1<<-g)-1,_>>=-g,g+=u;g>0;e=e*256+i[s+T],T+=C,g-=8);for(n=e&(1<<-g)-1,e>>=-g,g+=h;g>0;n=n*256+i[s+T],T+=C,g-=8);if(e===0)e=1-l;else{if(e===d)return n?NaN:(_?-1:1)*(1/0);n=n+Math.pow(2,h),e=e-l}return(_?-1:1)*n*Math.pow(2,e-h)},x.write=function(i,s,p,h,a,e){var n,u,d,l=e*8-a-1,g=(1<<l)-1,T=g>>1,C=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=h?0:e-1,B=h?1:-1,R=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(u=isNaN(s)?1:0,n=g):(n=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-n))<1&&(n--,d*=2),n+T>=1?s+=C/d:s+=C*Math.pow(2,1-T),s*d>=2&&(n++,d/=2),n+T>=g?(u=0,n=g):n+T>=1?(u=(s*d-1)*Math.pow(2,a),n=n+T):(u=s*Math.pow(2,T-1)*Math.pow(2,a),n=0));a>=8;i[p+_]=u&255,_+=B,u/=256,a-=8);for(n=n<<a|u,l+=a;l>0;i[p+_]=n&255,_+=B,n/=256,l-=8);i[p+_-B]|=R*128}},{}],80:[function(o,w,x){typeof Object.create=="function"?w.exports=function(s,p){s.super_=p,s.prototype=Object.create(p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:w.exports=function(s,p){s.super_=p;var h=function(){};h.prototype=p.prototype,s.prototype=new h,s.prototype.constructor=s}},{}],81:[function(o,w,x){w.exports=function(p){return p!=null&&(i(p)||s(p)||!!p._isBuffer)};function i(p){return!!p.constructor&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p)}function s(p){return typeof p.readFloatLE=="function"&&typeof p.slice=="function"&&i(p.slice(0,0))}},{}],82:[function(o,w,x){var i={}.toString;w.exports=Array.isArray||function(s){return i.call(s)=="[object Array]"}},{}],83:[function(o,w,x){var i=o("safe-buffer").Buffer,s=w.exports;s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"},s.codes={};for(var p in s.types){var h=s.types[p];s.codes[h]=p}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.LENGTH_MASK=127,s.LENGTH_FIN_MASK=128,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=i.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=i.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=i.from([s.codes.connect<<s.CMD_SHIFT]);function a(e){return[0,1,2].map(function(n){return[0,1].map(function(u){return[0,1].map(function(d){var l=new i(1);return l.writeUInt8(s.codes[e]<<s.CMD_SHIFT|(u?s.DUP_MASK:0)|n<<s.QOS_SHIFT|d,0,!0),l})})})}s.PUBLISH_HEADER=a("publish"),s.SUBSCRIBE_HEADER=a("subscribe"),s.UNSUBSCRIBE_HEADER=a("unsubscribe"),s.ACKS={unsuback:a("unsuback"),puback:a("puback"),pubcomp:a("pubcomp"),pubrel:a("pubrel"),pubrec:a("pubrec")},s.SUBACK_HEADER=i.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=i.from([3]),s.VERSION4=i.from([4]),s.QOS=[0,1,2].map(function(e){return i.from([e])}),s.EMPTY={pingreq:i.from([s.codes.pingreq<<4,0]),pingresp:i.from([s.codes.pingresp<<4,0]),disconnect:i.from([s.codes.disconnect<<4,0])}},{"safe-buffer":108}],84:[function(o,w,x){var i=o("safe-buffer").Buffer,s=o("./writeToStream"),p=o("events").EventEmitter,h=o("inherits");function a(n){var u=new e;return s(n,u),u.concat()}function e(){this._array=new Array(20),this._i=0}h(e,p),e.prototype.write=function(n){return this._array[this._i++]=n,!0},e.prototype.concat=function(){var n=0,u=new Array(this._array.length),d=this._array,l=0,g,T;for(g=0;g<d.length&&d[g]!==void 0;g++)typeof d[g]!="string"?u[g]=d[g].length:u[g]=i.byteLength(d[g]),n+=u[g];for(T=i.allocUnsafe(n),g=0;g<d.length&&d[g]!==void 0;g++)typeof d[g]!="string"?(d[g].copy(T,l),l+=u[g]):(T.write(d[g],l),l+=u[g]);return T},w.exports=a},{"./writeToStream":89,events:78,inherits:80,"safe-buffer":108}],85:[function(o,w,x){x.parser=o("./parser"),x.generate=o("./generate"),x.writeToStream=o("./writeToStream")},{"./generate":84,"./parser":88,"./writeToStream":89}],86:[function(o,w,x){var i=o("safe-buffer").Buffer,s=65536,p={};function h(e){var n=i.allocUnsafe(2);return n.writeUInt8(e>>8,0),n.writeUInt8(e&255,0+1),n}function a(){for(var e=0;e<s;e++)p[e]=h(e)}w.exports={cache:p,generateCache:a,generateNumber:h}},{"safe-buffer":108}],87:[function(o,w,x){function i(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}w.exports=i},{}],88:[function(o,w,x){var i=o("bl"),s=o("inherits"),p=o("events").EventEmitter,h=o("./packet"),a=o("./constants");function e(){if(!(this instanceof e))return new e;this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}s(e,p),e.prototype._resetState=function(){this.packet=new h,this.error=null,this._list=i(),this._stateCounter=0},e.prototype.parse=function(n){for(this.error&&this._resetState(),this._list.append(n);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},e.prototype._parseHeader=function(){var n=this._list.readUInt8(0);return this.packet.cmd=a.types[n>>a.CMD_SHIFT],this.packet.retain=(n&a.RETAIN_MASK)!==0,this.packet.qos=n>>a.QOS_SHIFT&a.QOS_MASK,this.packet.dup=(n&a.DUP_MASK)!==0,this._list.consume(1),!0},e.prototype._parseLength=function(){for(var n=0,u=1,d=0,l=!0,g;n<5&&(g=this._list.readUInt8(n++),d+=u*(g&a.LENGTH_MASK),u*=128,!!(g&a.LENGTH_FIN_MASK));)if(this._list.length<=n){l=!1;break}return l&&(this.packet.length=d,this._list.consume(n)),l},e.prototype._parsePayload=function(){var n=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this._emitError(new Error("Not supported"))}n=!0}return n},e.prototype._parseConnect=function(){var n,u,d,l,g,T,C={},_=this.packet;if(n=this._parseString(),n===null)return this._emitError(new Error("Cannot parse protocolId"));if(n!=="MQTT"&&n!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(_.protocolId=n,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(_.protocolVersion=this._list.readUInt8(this._pos),_.protocolVersion!==3&&_.protocolVersion!==4)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(C.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,C.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,C.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK,C.will&&(_.will={},_.will.retain=(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK)!==0,_.will.qos=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT),_.clean=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK)!==0,this._pos++,_.keepalive=this._parseNum(),_.keepalive===-1)return this._emitError(new Error("Packet too short"));if(u=this._parseString(),u===null)return this._emitError(new Error("Packet too short"));if(_.clientId=u,C.will){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse will topic"));if(_.will.topic=d,l=this._parseBuffer(),l===null)return this._emitError(new Error("Cannot parse will payload"));_.will.payload=l}if(C.username){if(T=this._parseString(),T===null)return this._emitError(new Error("Cannot parse username"));_.username=T}if(C.password){if(g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse password"));_.password=g}return _},e.prototype._parseConnack=function(){var n=this.packet;if(this._list.length<2)return null;if(n.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK),n.returnCode=this._list.readUInt8(this._pos),n.returnCode===-1)return this._emitError(new Error("Cannot parse return code"))},e.prototype._parsePublish=function(){var n=this.packet;if(n.topic=this._parseString(),n.topic===null)return this._emitError(new Error("Cannot parse topic"));n.qos>0&&!this._parseMessageId()||(n.payload=this._list.slice(this._pos,n.length))},e.prototype._parseSubscribe=function(){var n=this.packet,u,d;if(n.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(n.subscriptions=[],!!this._parseMessageId())for(;this._pos<n.length;){if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse topic"));d=this._list.readUInt8(this._pos++),n.subscriptions.push({topic:u,qos:d})}},e.prototype._parseSuback=function(){if(this.packet.granted=[],!!this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))},e.prototype._parseUnsubscribe=function(){var n=this.packet;if(n.unsubscriptions=[],!!this._parseMessageId())for(;this._pos<n.length;){var u;if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse topic"));n.unsubscriptions.push(u)}},e.prototype._parseUnsuback=function(){if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"))},e.prototype._parseMessageId=function(){var n=this.packet;return n.messageId=this._parseNum(),n.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):!0},e.prototype._parseString=function(n){var u=this._parseNum(),d,l=u+this._pos;return u===-1||l>this._list.length||l>this.packet.length?null:(d=this._list.toString("utf8",this._pos,l),this._pos+=u,d)},e.prototype._parseBuffer=function(){var n=this._parseNum(),u,d=n+this._pos;return n===-1||d>this._list.length||d>this.packet.length?null:(u=this._list.slice(this._pos,d),this._pos+=n,u)},e.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var n=this._list.readUInt16BE(this._pos);return this._pos+=2,n},e.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new h,!0},e.prototype._emitError=function(n){this.error=n,this.emit("error",n)},w.exports=e},{"./constants":83,"./packet":87,bl:10,events:78,inherits:80}],89:[function(o,w,x){var i=o("./constants"),s=o("safe-buffer").Buffer,p=s.allocUnsafe(0),h=s.from([0]),a=o("./numbers"),e=o("process-nextick-args").nextTick,n=a.cache,u=a.generateNumber,d=a.generateCache,l=W,g=!0;function T(z,N){switch(N.cork&&(N.cork(),e(C,N)),g&&(g=!1,d()),z.cmd){case"connect":return _(z,N);case"connack":return B(z,N);case"publish":return R(z,N);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return O(z,N);case"subscribe":return I(z,N);case"suback":return A(z,N);case"unsubscribe":return S(z,N);case"pingreq":case"pingresp":case"disconnect":return k(z,N);default:return N.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(T,"cacheNumbers",{get:function(){return l===W},set:function(z){z?((!n||Object.keys(n).length===0)&&(g=!0),l=W):(g=!1,l=V)}});function C(z){z.uncork()}function _(z,N){var re=z||{},P=re.protocolId||"MQTT",j=re.protocolVersion||4,c=re.will,E=re.clean,U=re.keepalive||0,Q=re.clientId||"",K=re.username,q=re.password;E===void 0&&(E=!0);var te=0;if(!P||typeof P!="string"&&!s.isBuffer(P))return N.emit("error",new Error("Invalid protocolId")),!1;if(te+=P.length+2,j!==3&&j!==4)return N.emit("error",new Error("Invalid protocol version")),!1;if(te+=1,(typeof Q=="string"||s.isBuffer(Q))&&(Q||j===4)&&(Q||E))te+=Q.length+2;else{if(j<4)return N.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(E*1===0)return N.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof U!="number"||U<0||U>65535||U%1!==0)return N.emit("error",new Error("Invalid keepalive")),!1;if(te+=2,te+=1,c){if(typeof c!="object")return N.emit("error",new Error("Invalid will")),!1;if(!c.topic||typeof c.topic!="string")return N.emit("error",new Error("Invalid will topic")),!1;if(te+=s.byteLength(c.topic)+2,c.payload&&c.payload)if(c.payload.length>=0)typeof c.payload=="string"?te+=s.byteLength(c.payload)+2:te+=c.payload.length+2;else return N.emit("error",new Error("Invalid will payload")),!1;else te+=2}var ne=!1;if(K!=null)if($(K))ne=!0,te+=s.byteLength(K)+2;else return N.emit("error",new Error("Invalid username")),!1;if(q!=null){if(!ne)return N.emit("error",new Error("Username is required to use password")),!1;if($(q))te+=H(q)+2;else return N.emit("error",new Error("Invalid password")),!1}N.write(i.CONNECT_HEADER),y(N,te),Z(N,P),N.write(j===4?i.VERSION4:i.VERSION3);var ie=0;return ie|=K!=null?i.USERNAME_MASK:0,ie|=q!=null?i.PASSWORD_MASK:0,ie|=c&&c.retain?i.WILL_RETAIN_MASK:0,ie|=c&&c.qos?c.qos<<i.WILL_QOS_SHIFT:0,ie|=c?i.WILL_FLAG_MASK:0,ie|=E?i.CLEAN_SESSION_MASK:0,N.write(s.from([ie])),l(N,U),Z(N,Q),c&&(D(N,c.topic),Z(N,c.payload)),K!=null&&Z(N,K),q!=null&&Z(N,q),!0}function B(z,N){var re=z||{},P=re.returnCode;return typeof P!="number"?(N.emit("error",new Error("Invalid return code")),!1):(N.write(i.CONNACK_HEADER),y(N,2),N.write(z.sessionPresent?i.SESSIONPRESENT_HEADER:h),N.write(s.from([P])))}function R(z,N){var re=z||{},P=re.qos||0,j=re.retain?i.RETAIN_MASK:0,c=re.topic,E=re.payload||p,U=re.messageId,Q=0;if(typeof c=="string")Q+=s.byteLength(c)+2;else if(s.isBuffer(c))Q+=c.length+2;else return N.emit("error",new Error("Invalid topic")),!1;return s.isBuffer(E)?Q+=E.length:Q+=s.byteLength(E),P&&typeof U!="number"?(N.emit("error",new Error("Invalid messageId")),!1):(P&&(Q+=2),N.write(i.PUBLISH_HEADER[P][z.dup?1:0][j?1:0]),y(N,Q),l(N,H(c)),N.write(c),P>0&&l(N,U),N.write(E))}function O(z,N){var re=z||{},P=re.cmd||"puback",j=re.messageId,c=re.dup&&P==="pubrel"?i.DUP_MASK:0,E=0;return P==="pubrel"&&(E=1),typeof j!="number"?(N.emit("error",new Error("Invalid messageId")),!1):(N.write(i.ACKS[P][E][c][0]),y(N,2),l(N,j))}function I(z,N){var re=z||{},P=re.dup?i.DUP_MASK:0,j=re.messageId,c=re.subscriptions,E=0;if(typeof j!="number")return N.emit("error",new Error("Invalid messageId")),!1;if(E+=2,typeof c=="object"&&c.length)for(var U=0;U<c.length;U+=1){var Q=c[U].topic,K=c[U].qos;if(typeof Q!="string")return N.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof K!="number")return N.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;E+=s.byteLength(Q)+2+1}else return N.emit("error",new Error("Invalid subscriptions")),!1;N.write(i.SUBSCRIBE_HEADER[1][P?1:0][0]),y(N,E),l(N,j);for(var q=!0,te=0;te<c.length;te++){var ne=c[te],ie=ne.topic,m=ne.qos;D(N,ie),q=N.write(i.QOS[m])}return q}function A(z,N){var re=z||{},P=re.messageId,j=re.granted,c=0;if(typeof P!="number")return N.emit("error",new Error("Invalid messageId")),!1;if(c+=2,typeof j=="object"&&j.length)for(var E=0;E<j.length;E+=1){if(typeof j[E]!="number")return N.emit("error",new Error("Invalid qos vector")),!1;c+=1}else return N.emit("error",new Error("Invalid qos vector")),!1;return N.write(i.SUBACK_HEADER),y(N,c),l(N,P),N.write(s.from(j))}function S(z,N){var re=z||{},P=re.messageId,j=re.dup?i.DUP_MASK:0,c=re.unsubscriptions,E=0;if(typeof P!="number")return N.emit("error",new Error("Invalid messageId")),!1;if(E+=2,typeof c=="object"&&c.length)for(var U=0;U<c.length;U+=1){if(typeof c[U]!="string")return N.emit("error",new Error("Invalid unsubscriptions")),!1;E+=s.byteLength(c[U])+2}else return N.emit("error",new Error("Invalid unsubscriptions")),!1;N.write(i.UNSUBSCRIBE_HEADER[1][j?1:0][0]),y(N,E),l(N,P);for(var Q=!0,K=0;K<c.length;K++)Q=D(N,c[K]);return Q}function k(z,N){return N.write(i.EMPTY[z.cmd])}function F(z){return z>=0&&z<128?1:z>=128&&z<16384?2:z>=16384&&z<2097152?3:z>=2097152&&z<268435456?4:0}function M(z){var N=0,re=0,P=s.allocUnsafe(F(z));do N=z%128|0,z=z/128|0,z>0&&(N=N|128),P.writeUInt8(N,re++);while(z>0);return P}var ee={};function y(z,N){var re=ee[N];re||(re=M(N),N<16384&&(ee[N]=re)),z.write(re)}function D(z,N){var re=s.byteLength(N);l(z,re),z.write(N,"utf8")}function W(z,N){return z.write(n[N])}function V(z,N){return z.write(u(N))}function Z(z,N){typeof N=="string"?D(z,N):N?(l(z,N.length),z.write(N)):l(z,0)}function H(z){return z?z instanceof s?z.length:s.byteLength(z):0}function $(z){return typeof z=="string"||z instanceof s}w.exports=T},{"./constants":83,"./numbers":86,"process-nextick-args":91,"safe-buffer":108}],90:[function(o,w,x){var i=o("wrappy");w.exports=i(s),w.exports.strict=i(p),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return p(this)},configurable:!0})});function s(h){var a=function(){return a.called?a.value:(a.called=!0,a.value=h.apply(this,arguments))};return a.called=!1,a}function p(h){var a=function(){if(a.called)throw new Error(a.onceError);return a.called=!0,a.value=h.apply(this,arguments)},e=h.name||"Function wrapped with `once`";return a.onceError=e+" shouldn't be called more than once",a.called=!1,a}},{wrappy:119}],91:[function(o,w,x){(function(i){!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?w.exports={nextTick:s}:w.exports=i;function s(p,h,a,e){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,u,d;switch(n){case 0:case 1:return i.nextTick(p);case 2:return i.nextTick(function(){p.call(null,h)});case 3:return i.nextTick(function(){p.call(null,h,a)});case 4:return i.nextTick(function(){p.call(null,h,a,e)});default:for(u=new Array(n-1),d=0;d<u.length;)u[d++]=arguments[d];return i.nextTick(function(){p.apply(null,u)})}}}).call(this,o("_process"))},{_process:92}],92:[function(o,w,x){var i=w.exports={},s,p;function h(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=h}catch(R){s=h}try{typeof clearTimeout=="function"?p=clearTimeout:p=a}catch(R){p=a}})();function e(R){if(s===setTimeout)return setTimeout(R,0);if((s===h||!s)&&setTimeout)return s=setTimeout,setTimeout(R,0);try{return s(R,0)}catch(O){try{return s.call(null,R,0)}catch(I){return s.call(this,R,0)}}}function n(R){if(p===clearTimeout)return clearTimeout(R);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(R);try{return p(R)}catch(O){try{return p.call(null,R)}catch(I){return p.call(this,R)}}}var u=[],d=!1,l,g=-1;function T(){!d||!l||(d=!1,l.length?u=l.concat(u):g=-1,u.length&&C())}function C(){if(!d){var R=e(T);d=!0;for(var O=u.length;O;){for(l=u,u=[];++g<O;)l&&l[g].run();g=-1,O=u.length}l=null,d=!1,n(R)}}i.nextTick=function(R){var O=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)O[I-1]=arguments[I];u.push(new _(R,O)),u.length===1&&!d&&e(C)};function _(R,O){this.fun=R,this.array=O}_.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function B(){}i.on=B,i.addListener=B,i.once=B,i.off=B,i.removeListener=B,i.removeAllListeners=B,i.emit=B,i.prependListener=B,i.prependOnceListener=B,i.listeners=function(R){return[]},i.binding=function(R){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(R){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],93:[function(o,w,x){(function(i){(function(s){var p=typeof x=="object"&&x&&!x.nodeType&&x,h=typeof w=="object"&&w&&!w.nodeType&&w,a=typeof i=="object"&&i;(a.global===a||a.window===a||a.self===a)&&(s=a);var e,n=2147483647,u=36,d=1,l=26,g=38,T=700,C=72,_=128,B="-",R=/^xn--/,O=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=u-d,k=Math.floor,F=String.fromCharCode,M;function ee(j){throw new RangeError(A[j])}function y(j,c){for(var E=j.length,U=[];E--;)U[E]=c(j[E]);return U}function D(j,c){var E=j.split("@"),U="";E.length>1&&(U=E[0]+"@",j=E[1]),j=j.replace(I,".");var Q=j.split("."),K=y(Q,c).join(".");return U+K}function W(j){for(var c=[],E=0,U=j.length,Q,K;E<U;)Q=j.charCodeAt(E++),Q>=55296&&Q<=56319&&E<U?(K=j.charCodeAt(E++),(K&64512)==56320?c.push(((Q&1023)<<10)+(K&1023)+65536):(c.push(Q),E--)):c.push(Q);return c}function V(j){return y(j,function(c){var E="";return c>65535&&(c-=65536,E+=F(c>>>10&1023|55296),c=56320|c&1023),E+=F(c),E}).join("")}function Z(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:u}function H(j,c){return j+22+75*(j<26)-((c!=0)<<5)}function $(j,c,E){var U=0;for(j=E?k(j/T):j>>1,j+=k(j/c);j>S*l>>1;U+=u)j=k(j/S);return k(U+(S+1)*j/(j+g))}function z(j){var c=[],E=j.length,U,Q=0,K=_,q=C,te,ne,ie,m,b,G,J,oe,f;for(te=j.lastIndexOf(B),te<0&&(te=0),ne=0;ne<te;++ne)j.charCodeAt(ne)>=128&&ee("not-basic"),c.push(j.charCodeAt(ne));for(ie=te>0?te+1:0;ie<E;){for(m=Q,b=1,G=u;ie>=E&&ee("invalid-input"),J=Z(j.charCodeAt(ie++)),(J>=u||J>k((n-Q)/b))&&ee("overflow"),Q+=J*b,oe=G<=q?d:G>=q+l?l:G-q,!(J<oe);G+=u)f=u-oe,b>k(n/f)&&ee("overflow"),b*=f;U=c.length+1,q=$(Q-m,U,m==0),k(Q/U)>n-K&&ee("overflow"),K+=k(Q/U),Q%=U,c.splice(Q++,0,K)}return V(c)}function N(j){var c,E,U,Q,K,q,te,ne,ie,m,b,G=[],J,oe,f,t;for(j=W(j),J=j.length,c=_,E=0,K=C,q=0;q<J;++q)b=j[q],b<128&&G.push(F(b));for(U=Q=G.length,Q&&G.push(B);U<J;){for(te=n,q=0;q<J;++q)b=j[q],b>=c&&b<te&&(te=b);for(oe=U+1,te-c>k((n-E)/oe)&&ee("overflow"),E+=(te-c)*oe,c=te,q=0;q<J;++q)if(b=j[q],b<c&&++E>n&&ee("overflow"),b==c){for(ne=E,ie=u;m=ie<=K?d:ie>=K+l?l:ie-K,!(ne<m);ie+=u)t=ne-m,f=u-m,G.push(F(H(m+t%f,0))),ne=k(t/f);G.push(F(H(ne,0))),K=$(E,oe,U==Q),E=0,++U}++E,++c}return G.join("")}function re(j){return D(j,function(c){return R.test(c)?z(c.slice(4).toLowerCase()):c})}function P(j){return D(j,function(c){return O.test(c)?"xn--"+N(c):c})}if(e={version:"1.4.1",ucs2:{decode:W,encode:V},decode:z,encode:N,toASCII:P,toUnicode:re},p&&h)if(w.exports==p)h.exports=e;else for(M in e)e.hasOwnProperty(M)&&(p[M]=e[M]);else s.punycode=e})(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],94:[function(o,w,x){function i(p,h){return Object.prototype.hasOwnProperty.call(p,h)}w.exports=function(p,h,a,e){h=h||"&",a=a||"=";var n={};if(typeof p!="string"||p.length===0)return n;var u=/\+/g;p=p.split(h);var d=1e3;e&&typeof e.maxKeys=="number"&&(d=e.maxKeys);var l=p.length;d>0&&l>d&&(l=d);for(var g=0;g<l;++g){var T=p[g].replace(u,"%20"),C=T.indexOf(a),_,B,R,O;C>=0?(_=T.substr(0,C),B=T.substr(C+1)):(_=T,B=""),R=decodeURIComponent(_),O=decodeURIComponent(B),i(n,R)?s(n[R])?n[R].push(O):n[R]=[n[R],O]:n[R]=O}return n};var s=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"}},{}],95:[function(o,w,x){var i=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};w.exports=function(a,e,n,u){return e=e||"&",n=n||"=",a===null&&(a=void 0),typeof a=="object"?p(h(a),function(d){var l=encodeURIComponent(i(d))+n;return s(a[d])?p(a[d],function(g){return l+encodeURIComponent(i(g))}).join(e):l+encodeURIComponent(i(a[d]))}).join(e):u?encodeURIComponent(i(u))+n+encodeURIComponent(i(a)):""};var s=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function p(a,e){if(a.map)return a.map(e);for(var n=[],u=0;u<a.length;u++)n.push(e(a[u],u));return n}var h=Object.keys||function(a){var e=[];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.push(n);return e}},{}],96:[function(o,w,x){x.decode=x.parse=o("./decode"),x.encode=x.stringify=o("./encode")},{"./decode":94,"./encode":95}],97:[function(o,w,x){w.exports=o("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":98}],98:[function(o,w,x){var i=o("process-nextick-args"),s=Object.keys||function(T){var C=[];for(var _ in T)C.push(_);return C};w.exports=d;var p=o("core-util-is");p.inherits=o("inherits");var h=o("./_stream_readable"),a=o("./_stream_writable");p.inherits(d,h);for(var e=s(a.prototype),n=0;n<e.length;n++){var u=e[n];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(T){if(!(this instanceof d))return new d(T);h.call(this,T),a.call(this,T),T&&T.readable===!1&&(this.readable=!1),T&&T.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,T&&T.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",l)}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(){this.allowHalfOpen||this._writableState.ended||i.nextTick(g,this)}function g(T){T.end()}Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(T){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=T,this._writableState.destroyed=T)}}),d.prototype._destroy=function(T,C){this.push(null),this.end(),i.nextTick(C,T)}},{"./_stream_readable":100,"./_stream_writable":102,"core-util-is":13,inherits:80,"process-nextick-args":91}],99:[function(o,w,x){w.exports=p;var i=o("./_stream_transform"),s=o("core-util-is");s.inherits=o("inherits"),s.inherits(p,i);function p(h){if(!(this instanceof p))return new p(h);i.call(this,h)}p.prototype._transform=function(h,a,e){e(null,h)}},{"./_stream_transform":101,"core-util-is":13,inherits:80}],100:[function(o,w,x){(function(i,s){var p=o("process-nextick-args");w.exports=k;var h=o("isarray"),a;k.ReadableState=S,o("events").EventEmitter;var e=function(m,b){return m.listeners(b).length},n=o("./internal/streams/stream"),u=o("safe-buffer").Buffer,d=s.Uint8Array||function(){};function l(m){return u.from(m)}function g(m){return u.isBuffer(m)||m instanceof d}var T=o("core-util-is");T.inherits=o("inherits");var C=o("util"),_=void 0;C&&C.debuglog?_=C.debuglog("stream"):_=function(){};var B=o("./internal/streams/BufferList"),R=o("./internal/streams/destroy"),O;T.inherits(k,n);var I=["error","close","destroy","pause","resume"];function A(m,b,G){if(typeof m.prependListener=="function")return m.prependListener(b,G);!m._events||!m._events[b]?m.on(b,G):h(m._events[b])?m._events[b].unshift(G):m._events[b]=[G,m._events[b]]}function S(m,b){a=a||o("./_stream_duplex"),m=m||{};var G=b instanceof a;this.objectMode=!!m.objectMode,G&&(this.objectMode=this.objectMode||!!m.readableObjectMode);var J=m.highWaterMark,oe=m.readableHighWaterMark,f=this.objectMode?16:16*1024;J||J===0?this.highWaterMark=J:G&&(oe||oe===0)?this.highWaterMark=oe:this.highWaterMark=f,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=m.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,m.encoding&&(O||(O=o("string_decoder/").StringDecoder),this.decoder=new O(m.encoding),this.encoding=m.encoding)}function k(m){if(a=a||o("./_stream_duplex"),!(this instanceof k))return new k(m);this._readableState=new S(m,this),this.readable=!0,m&&(typeof m.read=="function"&&(this._read=m.read),typeof m.destroy=="function"&&(this._destroy=m.destroy)),n.call(this)}Object.defineProperty(k.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(m){this._readableState&&(this._readableState.destroyed=m)}}),k.prototype.destroy=R.destroy,k.prototype._undestroy=R.undestroy,k.prototype._destroy=function(m,b){this.push(null),b(m)},k.prototype.push=function(m,b){var G=this._readableState,J;return G.objectMode?J=!0:typeof m=="string"&&(b=b||G.defaultEncoding,b!==G.encoding&&(m=u.from(m,b),b=""),J=!0),F(this,m,b,!1,J)},k.prototype.unshift=function(m){return F(this,m,null,!0,!1)};function F(m,b,G,J,oe){var f=m._readableState;if(b===null)f.reading=!1,Z(m,f);else{var t;oe||(t=ee(f,b)),t?m.emit("error",t):f.objectMode||b&&b.length>0?(typeof b!="string"&&!f.objectMode&&Object.getPrototypeOf(b)!==u.prototype&&(b=l(b)),J?f.endEmitted?m.emit("error",new Error("stream.unshift() after end event")):M(m,f,b,!0):f.ended?m.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!G?(b=f.decoder.write(b),f.objectMode||b.length!==0?M(m,f,b,!1):z(m,f)):M(m,f,b,!1))):J||(f.reading=!1)}return y(f)}function M(m,b,G,J){b.flowing&&b.length===0&&!b.sync?(m.emit("data",G),m.read(0)):(b.length+=b.objectMode?1:G.length,J?b.buffer.unshift(G):b.buffer.push(G),b.needReadable&&H(m)),z(m,b)}function ee(m,b){var G;return!g(b)&&typeof b!="string"&&b!==void 0&&!m.objectMode&&(G=new TypeError("Invalid non-string/buffer chunk")),G}function y(m){return!m.ended&&(m.needReadable||m.length<m.highWaterMark||m.length===0)}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(m){return O||(O=o("string_decoder/").StringDecoder),this._readableState.decoder=new O(m),this._readableState.encoding=m,this};var D=8388608;function W(m){return m>=D?m=D:(m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,m++),m}function V(m,b){return m<=0||b.length===0&&b.ended?0:b.objectMode?1:m!==m?b.flowing&&b.length?b.buffer.head.data.length:b.length:(m>b.highWaterMark&&(b.highWaterMark=W(m)),m<=b.length?m:b.ended?b.length:(b.needReadable=!0,0))}k.prototype.read=function(m){_("read",m),m=parseInt(m,10);var b=this._readableState,G=m;if(m!==0&&(b.emittedReadable=!1),m===0&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return _("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?te(this):H(this),null;if(m=V(m,b),m===0&&b.ended)return b.length===0&&te(this),null;var J=b.needReadable;_("need readable",J),(b.length===0||b.length-m<b.highWaterMark)&&(J=!0,_("length less than watermark",J)),b.ended||b.reading?(J=!1,_("reading or ended",J)):J&&(_("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(m=V(G,b)));var oe;return m>0?oe=U(m,b):oe=null,oe===null?(b.needReadable=!0,m=0):b.length-=m,b.length===0&&(b.ended||(b.needReadable=!0),G!==m&&b.ended&&te(this)),oe!==null&&this.emit("data",oe),oe};function Z(m,b){if(!b.ended){if(b.decoder){var G=b.decoder.end();G&&G.length&&(b.buffer.push(G),b.length+=b.objectMode?1:G.length)}b.ended=!0,H(m)}}function H(m){var b=m._readableState;b.needReadable=!1,b.emittedReadable||(_("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?p.nextTick($,m):$(m))}function $(m){_("emit readable"),m.emit("readable"),E(m)}function z(m,b){b.readingMore||(b.readingMore=!0,p.nextTick(N,m,b))}function N(m,b){for(var G=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(_("maybeReadMore read 0"),m.read(0),G!==b.length);)G=b.length;b.readingMore=!1}k.prototype._read=function(m){this.emit("error",new Error("_read() is not implemented"))},k.prototype.pipe=function(m,b){var G=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=m;break;case 1:J.pipes=[J.pipes,m];break;default:J.pipes.push(m);break}J.pipesCount+=1,_("pipe count=%d opts=%j",J.pipesCount,b);var oe=(!b||b.end!==!1)&&m!==i.stdout&&m!==i.stderr,f=oe?r:fe;J.endEmitted?p.nextTick(f):G.once("end",f),m.on("unpipe",t);function t(de,ye){_("onunpipe"),de===G&&ye&&ye.hasUnpiped===!1&&(ye.hasUnpiped=!0,Y())}function r(){_("onend"),m.end()}var v=re(G);m.on("drain",v);var L=!1;function Y(){_("cleanup"),m.removeListener("close",ue),m.removeListener("finish",he),m.removeListener("drain",v),m.removeListener("error",ae),m.removeListener("unpipe",t),G.removeListener("end",r),G.removeListener("end",fe),G.removeListener("data",se),L=!0,J.awaitDrain&&(!m._writableState||m._writableState.needDrain)&&v()}var X=!1;G.on("data",se);function se(de){_("ondata"),X=!1;var ye=m.write(de);ye===!1&&!X&&((J.pipesCount===1&&J.pipes===m||J.pipesCount>1&&ie(J.pipes,m)!==-1)&&!L&&(_("false write response, pause",G._readableState.awaitDrain),G._readableState.awaitDrain++,X=!0),G.pause())}function ae(de){_("onerror",de),fe(),m.removeListener("error",ae),e(m,"error")===0&&m.emit("error",de)}A(m,"error",ae);function ue(){m.removeListener("finish",he),fe()}m.once("close",ue);function he(){_("onfinish"),m.removeListener("close",ue),fe()}m.once("finish",he);function fe(){_("unpipe"),G.unpipe(m)}return m.emit("pipe",G),J.flowing||(_("pipe resume"),G.resume()),m};function re(m){return function(){var b=m._readableState;_("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,b.awaitDrain===0&&e(m,"data")&&(b.flowing=!0,E(m))}}k.prototype.unpipe=function(m){var b=this._readableState,G={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return m&&m!==b.pipes?this:(m||(m=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,m&&m.emit("unpipe",this,G),this);if(!m){var J=b.pipes,oe=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<oe;f++)J[f].emit("unpipe",this,G);return this}var t=ie(b.pipes,m);return t===-1?this:(b.pipes.splice(t,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),m.emit("unpipe",this,G),this)},k.prototype.on=function(m,b){var G=n.prototype.on.call(this,m,b);if(m==="data")this._readableState.flowing!==!1&&this.resume();else if(m==="readable"){var J=this._readableState;!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.emittedReadable=!1,J.reading?J.length&&H(this):p.nextTick(P,this))}return G},k.prototype.addListener=k.prototype.on;function P(m){_("readable nexttick read 0"),m.read(0)}k.prototype.resume=function(){var m=this._readableState;return m.flowing||(_("resume"),m.flowing=!0,j(this,m)),this};function j(m,b){b.resumeScheduled||(b.resumeScheduled=!0,p.nextTick(c,m,b))}function c(m,b){b.reading||(_("resume read 0"),m.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,m.emit("resume"),E(m),b.flowing&&!b.reading&&m.read(0)}k.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function E(m){var b=m._readableState;for(_("flow",b.flowing);b.flowing&&m.read()!==null;);}k.prototype.wrap=function(m){var b=this,G=this._readableState,J=!1;m.on("end",function(){if(_("wrapped end"),G.decoder&&!G.ended){var t=G.decoder.end();t&&t.length&&b.push(t)}b.push(null)}),m.on("data",function(t){if(_("wrapped data"),G.decoder&&(t=G.decoder.write(t)),!(G.objectMode&&t==null)&&!(!G.objectMode&&(!t||!t.length))){var r=b.push(t);r||(J=!0,m.pause())}});for(var oe in m)this[oe]===void 0&&typeof m[oe]=="function"&&(this[oe]=function(t){return function(){return m[t].apply(m,arguments)}}(oe));for(var f=0;f<I.length;f++)m.on(I[f],this.emit.bind(this,I[f]));return this._read=function(t){_("wrapped _read",t),J&&(J=!1,m.resume())},this},Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),k._fromList=U;function U(m,b){if(b.length===0)return null;var G;return b.objectMode?G=b.buffer.shift():!m||m>=b.length?(b.decoder?G=b.buffer.join(""):b.buffer.length===1?G=b.buffer.head.data:G=b.buffer.concat(b.length),b.buffer.clear()):G=Q(m,b.buffer,b.decoder),G}function Q(m,b,G){var J;return m<b.head.data.length?(J=b.head.data.slice(0,m),b.head.data=b.head.data.slice(m)):m===b.head.data.length?J=b.shift():J=G?K(m,b):q(m,b),J}function K(m,b){var G=b.head,J=1,oe=G.data;for(m-=oe.length;G=G.next;){var f=G.data,t=m>f.length?f.length:m;if(t===f.length?oe+=f:oe+=f.slice(0,m),m-=t,m===0){t===f.length?(++J,G.next?b.head=G.next:b.head=b.tail=null):(b.head=G,G.data=f.slice(t));break}++J}return b.length-=J,oe}function q(m,b){var G=u.allocUnsafe(m),J=b.head,oe=1;for(J.data.copy(G),m-=J.data.length;J=J.next;){var f=J.data,t=m>f.length?f.length:m;if(f.copy(G,G.length-m,0,t),m-=t,m===0){t===f.length?(++oe,J.next?b.head=J.next:b.head=b.tail=null):(b.head=J,J.data=f.slice(t));break}++oe}return b.length-=oe,G}function te(m){var b=m._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,p.nextTick(ne,b,m))}function ne(m,b){!m.endEmitted&&m.length===0&&(m.endEmitted=!0,b.readable=!1,b.emit("end"))}function ie(m,b){for(var G=0,J=m.length;G<J;G++)if(m[G]===b)return G;return-1}}).call(this,o("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":98,"./internal/streams/BufferList":103,"./internal/streams/destroy":104,"./internal/streams/stream":105,_process:92,"core-util-is":13,events:78,inherits:80,isarray:82,"process-nextick-args":91,"safe-buffer":108,"string_decoder/":110,util:11}],101:[function(o,w,x){w.exports=h;var i=o("./_stream_duplex"),s=o("core-util-is");s.inherits=o("inherits"),s.inherits(h,i);function p(n,u){var d=this._transformState;d.transforming=!1;var l=d.writecb;if(!l)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,u!=null&&this.push(u),l(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function h(n){if(!(this instanceof h))return new h(n);i.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",a)}function a(){var n=this;typeof this._flush=="function"?this._flush(function(u,d){e(n,u,d)}):e(this,null,null)}h.prototype.push=function(n,u){return this._transformState.needTransform=!1,i.prototype.push.call(this,n,u)},h.prototype._transform=function(n,u,d){throw new Error("_transform() is not implemented")},h.prototype._write=function(n,u,d){var l=this._transformState;if(l.writecb=d,l.writechunk=n,l.writeencoding=u,!l.transforming){var g=this._readableState;(l.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},h.prototype._read=function(n){var u=this._transformState;u.writechunk!==null&&u.writecb&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},h.prototype._destroy=function(n,u){var d=this;i.prototype._destroy.call(this,n,function(l){u(l),d.emit("close")})};function e(n,u,d){if(u)return n.emit("error",u);if(d!=null&&n.push(d),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}},{"./_stream_duplex":98,"core-util-is":13,inherits:80}],102:[function(o,w,x){(function(i,s,p){var h=o("process-nextick-args");w.exports=A;function a(c){var E=this;this.next=null,this.entry=null,this.finish=function(){j(E,c)}}var e=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?p:h.nextTick,n;A.WritableState=O;var u=o("core-util-is");u.inherits=o("inherits");var d={deprecate:o("util-deprecate")},l=o("./internal/streams/stream"),g=o("safe-buffer").Buffer,T=s.Uint8Array||function(){};function C(c){return g.from(c)}function _(c){return g.isBuffer(c)||c instanceof T}var B=o("./internal/streams/destroy");u.inherits(A,l);function R(){}function O(c,E){n=n||o("./_stream_duplex"),c=c||{};var U=E instanceof n;this.objectMode=!!c.objectMode,U&&(this.objectMode=this.objectMode||!!c.writableObjectMode);var Q=c.highWaterMark,K=c.writableHighWaterMark,q=this.objectMode?16:16*1024;Q||Q===0?this.highWaterMark=Q:U&&(K||K===0)?this.highWaterMark=K:this.highWaterMark=q,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=c.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=c.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){W(E,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}O.prototype.getBuffer=function(){for(var E=this.bufferedRequest,U=[];E;)U.push(E),E=E.next;return U},function(){try{Object.defineProperty(O.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(c){}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(c){return I.call(this,c)?!0:this!==A?!1:c&&c._writableState instanceof O}})):I=function(c){return c instanceof this};function A(c){if(n=n||o("./_stream_duplex"),!I.call(A,this)&&!(this instanceof n))return new A(c);this._writableState=new O(c,this),this.writable=!0,c&&(typeof c.write=="function"&&(this._write=c.write),typeof c.writev=="function"&&(this._writev=c.writev),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.final=="function"&&(this._final=c.final)),l.call(this)}A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function S(c,E){var U=new Error("write after end");c.emit("error",U),h.nextTick(E,U)}function k(c,E,U,Q){var K=!0,q=!1;return U===null?q=new TypeError("May not write null values to stream"):typeof U!="string"&&U!==void 0&&!E.objectMode&&(q=new TypeError("Invalid non-string/buffer chunk")),q&&(c.emit("error",q),h.nextTick(Q,q),K=!1),K}A.prototype.write=function(c,E,U){var Q=this._writableState,K=!1,q=!Q.objectMode&&_(c);return q&&!g.isBuffer(c)&&(c=C(c)),typeof E=="function"&&(U=E,E=null),q?E="buffer":E||(E=Q.defaultEncoding),typeof U!="function"&&(U=R),Q.ended?S(this,U):(q||k(this,Q,c,U))&&(Q.pendingcb++,K=M(this,Q,q,c,E,U)),K},A.prototype.cork=function(){var c=this._writableState;c.corked++},A.prototype.uncork=function(){var c=this._writableState;c.corked&&(c.corked--,!c.writing&&!c.corked&&!c.finished&&!c.bufferProcessing&&c.bufferedRequest&&H(this,c))},A.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+E);return this._writableState.defaultEncoding=E,this};function F(c,E,U){return!c.objectMode&&c.decodeStrings!==!1&&typeof E=="string"&&(E=g.from(E,U)),E}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(c,E,U,Q,K,q){if(!U){var te=F(E,Q,K);Q!==te&&(U=!0,K="buffer",Q=te)}var ne=E.objectMode?1:Q.length;E.length+=ne;var ie=E.length<E.highWaterMark;if(ie||(E.needDrain=!0),E.writing||E.corked){var m=E.lastBufferedRequest;E.lastBufferedRequest={chunk:Q,encoding:K,isBuf:U,callback:q,next:null},m?m.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else ee(c,E,!1,ne,Q,K,q);return ie}function ee(c,E,U,Q,K,q,te){E.writelen=Q,E.writecb=te,E.writing=!0,E.sync=!0,U?c._writev(K,E.onwrite):c._write(K,q,E.onwrite),E.sync=!1}function y(c,E,U,Q,K){--E.pendingcb,U?(h.nextTick(K,Q),h.nextTick(re,c,E),c._writableState.errorEmitted=!0,c.emit("error",Q)):(K(Q),c._writableState.errorEmitted=!0,c.emit("error",Q),re(c,E))}function D(c){c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0}function W(c,E){var U=c._writableState,Q=U.sync,K=U.writecb;if(D(U),E)y(c,U,Q,E,K);else{var q=$(U);!q&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&H(c,U),Q?e(V,c,U,q,K):V(c,U,q,K)}}function V(c,E,U,Q){U||Z(c,E),E.pendingcb--,Q(),re(c,E)}function Z(c,E){E.length===0&&E.needDrain&&(E.needDrain=!1,c.emit("drain"))}function H(c,E){E.bufferProcessing=!0;var U=E.bufferedRequest;if(c._writev&&U&&U.next){var Q=E.bufferedRequestCount,K=new Array(Q),q=E.corkedRequestsFree;q.entry=U;for(var te=0,ne=!0;U;)K[te]=U,U.isBuf||(ne=!1),U=U.next,te+=1;K.allBuffers=ne,ee(c,E,!0,E.length,K,"",q.finish),E.pendingcb++,E.lastBufferedRequest=null,q.next?(E.corkedRequestsFree=q.next,q.next=null):E.corkedRequestsFree=new a(E),E.bufferedRequestCount=0}else{for(;U;){var ie=U.chunk,m=U.encoding,b=U.callback,G=E.objectMode?1:ie.length;if(ee(c,E,!1,G,ie,m,b),U=U.next,E.bufferedRequestCount--,E.writing)break}U===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=U,E.bufferProcessing=!1}A.prototype._write=function(c,E,U){U(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(c,E,U){var Q=this._writableState;typeof c=="function"?(U=c,c=null,E=null):typeof E=="function"&&(U=E,E=null),c!=null&&this.write(c,E),Q.corked&&(Q.corked=1,this.uncork()),!Q.ending&&!Q.finished&&P(this,Q,U)};function $(c){return c.ending&&c.length===0&&c.bufferedRequest===null&&!c.finished&&!c.writing}function z(c,E){c._final(function(U){E.pendingcb--,U&&c.emit("error",U),E.prefinished=!0,c.emit("prefinish"),re(c,E)})}function N(c,E){!E.prefinished&&!E.finalCalled&&(typeof c._final=="function"?(E.pendingcb++,E.finalCalled=!0,h.nextTick(z,c,E)):(E.prefinished=!0,c.emit("prefinish")))}function re(c,E){var U=$(E);return U&&(N(c,E),E.pendingcb===0&&(E.finished=!0,c.emit("finish"))),U}function P(c,E,U){E.ending=!0,re(c,E),U&&(E.finished?h.nextTick(U):c.once("finish",U)),E.ended=!0,c.writable=!1}function j(c,E,U){var Q=c.entry;for(c.entry=null;Q;){var K=Q.callback;E.pendingcb--,K(U),Q=Q.next}E.corkedRequestsFree?E.corkedRequestsFree.next=c:E.corkedRequestsFree=c}Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(c){this._writableState&&(this._writableState.destroyed=c)}}),A.prototype.destroy=B.destroy,A.prototype._undestroy=B.undestroy,A.prototype._destroy=function(c,E){this.end(),E(c)}}).call(this,o("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{},o("timers").setImmediate)},{"./_stream_duplex":98,"./internal/streams/destroy":104,"./internal/streams/stream":105,_process:92,"core-util-is":13,inherits:80,"process-nextick-args":91,"safe-buffer":108,timers:111,"util-deprecate":114}],103:[function(o,w,x){function i(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var s=o("safe-buffer").Buffer,p=o("util");function h(a,e,n){a.copy(e,n)}w.exports=function(){function a(){i(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(n){var u={data:n,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},a.prototype.unshift=function(n){var u={data:n,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},a.prototype.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(n){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=n+u.data;return d},a.prototype.concat=function(n){if(this.length===0)return s.alloc(0);if(this.length===1)return this.head.data;for(var u=s.allocUnsafe(n>>>0),d=this.head,l=0;d;)h(d.data,u,l),l+=d.data.length,d=d.next;return u},a}(),p&&p.inspect&&p.inspect.custom&&(w.exports.prototype[p.inspect.custom]=function(){var a=p.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":108,util:11}],104:[function(o,w,x){var i=o("process-nextick-args");function s(a,e){var n=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(e?e(a):a&&(!this._writableState||!this._writableState.errorEmitted)&&i.nextTick(h,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(l){!e&&l?(i.nextTick(h,n,l),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(l)}),this)}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(a,e){a.emit("error",e)}w.exports={destroy:s,undestroy:p}},{"process-nextick-args":91}],105:[function(o,w,x){w.exports=o("events").EventEmitter},{events:78}],106:[function(o,w,x){x=w.exports=o("./lib/_stream_readable.js"),x.Stream=x,x.Readable=x,x.Writable=o("./lib/_stream_writable.js"),x.Duplex=o("./lib/_stream_duplex.js"),x.Transform=o("./lib/_stream_transform.js"),x.PassThrough=o("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":98,"./lib/_stream_passthrough.js":99,"./lib/_stream_readable.js":100,"./lib/_stream_transform.js":101,"./lib/_stream_writable.js":102}],107:[function(o,w,x){function i(p,h,a){var e=this;this._callback=p,this._args=a,this._interval=setInterval(p,h,this._args),this.reschedule=function(n){n||(n=e._interval),e._interval&&clearInterval(e._interval),e._interval=setInterval(e._callback,n,e._args)},this.clear=function(){e._interval&&(clearInterval(e._interval),e._interval=void 0)},this.destroy=function(){e._interval&&clearInterval(e._interval),e._callback=void 0,e._interval=void 0,e._args=void 0}}function s(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var p;if(arguments.length>0){p=new Array(arguments.length-2);for(var h=0;h<p.length;h++)p[h]=arguments[h+2]}return new i(arguments[0],arguments[1],p)}w.exports=s},{}],108:[function(o,w,x){var i=o("buffer"),s=i.Buffer;function p(a,e){for(var n in a)e[n]=a[n]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?w.exports=i:(p(i,x),x.Buffer=h);function h(a,e,n){return s(a,e,n)}p(s,h),h.from=function(a,e,n){if(typeof a=="number")throw new TypeError("Argument must not be a number");return s(a,e,n)},h.alloc=function(a,e,n){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=s(a);return e!==void 0?typeof n=="string"?u.fill(e,n):u.fill(e):u.fill(0),u},h.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return s(a)},h.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:12}],109:[function(o,w,x){w.exports=i;function i(p){var h=p._readableState;return h?h.objectMode?p.read():p.read(s(h)):null}function s(p){return p.buffer.length?p.buffer.head?p.buffer.head.data.length:p.buffer[0].length:p.length}},{}],110:[function(o,w,x){var i=o("safe-buffer").Buffer,s=i.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(I){if(!I)return"utf8";for(var A;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(A)return;I=(""+I).toLowerCase(),A=!0}}function h(I){var A=p(I);if(typeof A!="string"&&(i.isEncoding===s||!s(I)))throw new Error("Unknown encoding: "+I);return A||I}x.StringDecoder=a;function a(I){this.encoding=h(I);var A;switch(this.encoding){case"utf16le":this.text=T,this.end=C,A=4;break;case"utf8":this.fillLast=d,A=4;break;case"base64":this.text=_,this.end=B,A=3;break;default:this.write=R,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(A)}a.prototype.write=function(I){if(I.length===0)return"";var A,S;if(this.lastNeed){if(A=this.fillLast(I),A===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<I.length?A?A+this.text(I,S):this.text(I,S):A||""},a.prototype.end=g,a.prototype.text=l,a.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function e(I){return I<=127?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function n(I,A,S){var k=A.length-1;if(k<S)return 0;var F=e(A[k]);return F>=0?(F>0&&(I.lastNeed=F-1),F):--k<S||F===-2?0:(F=e(A[k]),F>=0?(F>0&&(I.lastNeed=F-2),F):--k<S||F===-2?0:(F=e(A[k]),F>=0?(F>0&&(F===2?F=0:I.lastNeed=F-3),F):0))}function u(I,A,S){if((A[0]&192)!==128)return I.lastNeed=0,"";if(I.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return I.lastNeed=1,"";if(I.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return I.lastNeed=2,""}}function d(I){var A=this.lastTotal-this.lastNeed,S=u(this,I);if(S!==void 0)return S;if(this.lastNeed<=I.length)return I.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,A,0,I.length),this.lastNeed-=I.length}function l(I,A){var S=n(this,I,A);if(!this.lastNeed)return I.toString("utf8",A);this.lastTotal=S;var k=I.length-(S-this.lastNeed);return I.copy(this.lastChar,0,k),I.toString("utf8",A,k)}function g(I){var A=I&&I.length?this.write(I):"";return this.lastNeed?A+"":A}function T(I,A){if((I.length-A)%2===0){var S=I.toString("utf16le",A);if(S){var k=S.charCodeAt(S.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",A,I.length-1)}function C(I){var A=I&&I.length?this.write(I):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,S)}return A}function _(I,A){var S=(I.length-A)%3;return S===0?I.toString("base64",A):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",A,I.length-S))}function B(I){var A=I&&I.length?this.write(I):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function R(I){return I.toString(this.encoding)}function O(I){return I&&I.length?this.write(I):""}},{"safe-buffer":108}],111:[function(o,w,x){(function(i,s){var p=o("process/browser.js").nextTick,h=Function.prototype.apply,a=Array.prototype.slice,e={},n=0;x.setTimeout=function(){return new u(h.call(setTimeout,window,arguments),clearTimeout)},x.setInterval=function(){return new u(h.call(setInterval,window,arguments),clearInterval)},x.clearTimeout=x.clearInterval=function(d){d.close()};function u(d,l){this._id=d,this._clearFn=l}u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},x.enroll=function(d,l){clearTimeout(d._idleTimeoutId),d._idleTimeout=l},x.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},x._unrefActive=x.active=function(d){clearTimeout(d._idleTimeoutId);var l=d._idleTimeout;l>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},l))},x.setImmediate=typeof i=="function"?i:function(d){var l=n++,g=arguments.length<2?!1:a.call(arguments,1);return e[l]=!0,p(function(){e[l]&&(g?d.apply(null,g):d.call(null),x.clearImmediate(l))}),l},x.clearImmediate=typeof s=="function"?s:function(d){delete e[d]}}).call(this,o("timers").setImmediate,o("timers").clearImmediate)},{"process/browser.js":92,timers:111}],112:[function(o,w,x){var i=o("punycode"),s=o("./util");x.parse=A,x.resolve=k,x.resolveObject=F,x.format=S,x.Url=p;function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var h=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r",`
`,"	"],u=["{","}","|","\\","^","`"].concat(n),d=["'"].concat(u),l=["%","/","?",";","#"].concat(d),g=["/","?","#"],T=255,C=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,B={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},I=o("querystring");function A(M,ee,y){if(M&&s.isObject(M)&&M instanceof p)return M;var D=new p;return D.parse(M,ee,y),D}p.prototype.parse=function(M,ee,y){if(!s.isString(M))throw new TypeError("Parameter 'url' must be a string, not "+typeof M);var D=M.indexOf("?"),W=D!==-1&&D<M.indexOf("#")?"?":"#",V=M.split(W),Z=/\\/g;V[0]=V[0].replace(Z,"/"),M=V.join(W);var H=M;if(H=H.trim(),!y&&M.split("#").length===1){var $=e.exec(H);if($)return this.path=H,this.href=H,this.pathname=$[1],$[2]?(this.search=$[2],ee?this.query=I.parse(this.search.substr(1)):this.query=this.search.substr(1)):ee&&(this.search="",this.query={}),this}var z=h.exec(H);if(z){z=z[0];var N=z.toLowerCase();this.protocol=N,H=H.substr(z.length)}if(y||z||H.match(/^\/\/[^@\/]+@[^@\/]+/)){var re=H.substr(0,2)==="//";re&&!(z&&R[z])&&(H=H.substr(2),this.slashes=!0)}if(!R[z]&&(re||z&&!O[z])){for(var P=-1,j=0;j<g.length;j++){var c=H.indexOf(g[j]);c!==-1&&(P===-1||c<P)&&(P=c)}var E,U;P===-1?U=H.lastIndexOf("@"):U=H.lastIndexOf("@",P),U!==-1&&(E=H.slice(0,U),H=H.slice(U+1),this.auth=decodeURIComponent(E)),P=-1;for(var j=0;j<l.length;j++){var c=H.indexOf(l[j]);c!==-1&&(P===-1||c<P)&&(P=c)}P===-1&&(P=H.length),this.host=H.slice(0,P),H=H.slice(P),this.parseHost(),this.hostname=this.hostname||"";var Q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Q)for(var K=this.hostname.split(/\./),j=0,q=K.length;j<q;j++){var te=K[j];if(te&&!te.match(C)){for(var ne="",ie=0,m=te.length;ie<m;ie++)te.charCodeAt(ie)>127?ne+="x":ne+=te[ie];if(!ne.match(C)){var b=K.slice(0,j),G=K.slice(j+1),J=te.match(_);J&&(b.push(J[1]),G.unshift(J[2])),G.length&&(H="/"+G.join(".")+H),this.hostname=b.join(".");break}}}this.hostname.length>T?this.hostname="":this.hostname=this.hostname.toLowerCase(),Q||(this.hostname=i.toASCII(this.hostname));var oe=this.port?":"+this.port:"",f=this.hostname||"";this.host=f+oe,this.href+=this.host,Q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),H[0]!=="/"&&(H="/"+H))}if(!B[N])for(var j=0,q=d.length;j<q;j++){var t=d[j];if(H.indexOf(t)!==-1){var r=encodeURIComponent(t);r===t&&(r=escape(t)),H=H.split(t).join(r)}}var v=H.indexOf("#");v!==-1&&(this.hash=H.substr(v),H=H.slice(0,v));var L=H.indexOf("?");if(L!==-1?(this.search=H.substr(L),this.query=H.substr(L+1),ee&&(this.query=I.parse(this.query)),H=H.slice(0,L)):ee&&(this.search="",this.query={}),H&&(this.pathname=H),O[N]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var oe=this.pathname||"",Y=this.search||"";this.path=oe+Y}return this.href=this.format(),this};function S(M){return s.isString(M)&&(M=A(M)),M instanceof p?M.format():p.prototype.format.call(M)}p.prototype.format=function(){var M=this.auth||"";M&&(M=encodeURIComponent(M),M=M.replace(/%3A/i,":"),M+="@");var ee=this.protocol||"",y=this.pathname||"",D=this.hash||"",W=!1,V="";this.host?W=M+this.host:this.hostname&&(W=M+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(W+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(V=I.stringify(this.query));var Z=this.search||V&&"?"+V||"";return ee&&ee.substr(-1)!==":"&&(ee+=":"),this.slashes||(!ee||O[ee])&&W!==!1?(W="//"+(W||""),y&&y.charAt(0)!=="/"&&(y="/"+y)):W||(W=""),D&&D.charAt(0)!=="#"&&(D="#"+D),Z&&Z.charAt(0)!=="?"&&(Z="?"+Z),y=y.replace(/[?#]/g,function(H){return encodeURIComponent(H)}),Z=Z.replace("#","%23"),ee+W+y+Z+D};function k(M,ee){return A(M,!1,!0).resolve(ee)}p.prototype.resolve=function(M){return this.resolveObject(A(M,!1,!0)).format()};function F(M,ee){return M?A(M,!1,!0).resolveObject(ee):ee}p.prototype.resolveObject=function(M){if(s.isString(M)){var ee=new p;ee.parse(M,!1,!0),M=ee}for(var y=new p,D=Object.keys(this),W=0;W<D.length;W++){var V=D[W];y[V]=this[V]}if(y.hash=M.hash,M.href==="")return y.href=y.format(),y;if(M.slashes&&!M.protocol){for(var Z=Object.keys(M),H=0;H<Z.length;H++){var $=Z[H];$!=="protocol"&&(y[$]=M[$])}return O[y.protocol]&&y.hostname&&!y.pathname&&(y.path=y.pathname="/"),y.href=y.format(),y}if(M.protocol&&M.protocol!==y.protocol){if(!O[M.protocol]){for(var z=Object.keys(M),N=0;N<z.length;N++){var re=z[N];y[re]=M[re]}return y.href=y.format(),y}if(y.protocol=M.protocol,!M.host&&!R[M.protocol]){for(var q=(M.pathname||"").split("/");q.length&&!(M.host=q.shift()););M.host||(M.host=""),M.hostname||(M.hostname=""),q[0]!==""&&q.unshift(""),q.length<2&&q.unshift(""),y.pathname=q.join("/")}else y.pathname=M.pathname;if(y.search=M.search,y.query=M.query,y.host=M.host||"",y.auth=M.auth,y.hostname=M.hostname||M.host,y.port=M.port,y.pathname||y.search){var P=y.pathname||"",j=y.search||"";y.path=P+j}return y.slashes=y.slashes||M.slashes,y.href=y.format(),y}var c=y.pathname&&y.pathname.charAt(0)==="/",E=M.host||M.pathname&&M.pathname.charAt(0)==="/",U=E||c||y.host&&M.pathname,Q=U,K=y.pathname&&y.pathname.split("/")||[],q=M.pathname&&M.pathname.split("/")||[],te=y.protocol&&!O[y.protocol];if(te&&(y.hostname="",y.port=null,y.host&&(K[0]===""?K[0]=y.host:K.unshift(y.host)),y.host="",M.protocol&&(M.hostname=null,M.port=null,M.host&&(q[0]===""?q[0]=M.host:q.unshift(M.host)),M.host=null),U=U&&(q[0]===""||K[0]==="")),E)y.host=M.host||M.host===""?M.host:y.host,y.hostname=M.hostname||M.hostname===""?M.hostname:y.hostname,y.search=M.search,y.query=M.query,K=q;else if(q.length)K||(K=[]),K.pop(),K=K.concat(q),y.search=M.search,y.query=M.query;else if(!s.isNullOrUndefined(M.search)){if(te){y.hostname=y.host=K.shift();var ne=y.host&&y.host.indexOf("@")>0?y.host.split("@"):!1;ne&&(y.auth=ne.shift(),y.host=y.hostname=ne.shift())}return y.search=M.search,y.query=M.query,(!s.isNull(y.pathname)||!s.isNull(y.search))&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.href=y.format(),y}if(!K.length)return y.pathname=null,y.search?y.path="/"+y.search:y.path=null,y.href=y.format(),y;for(var ie=K.slice(-1)[0],m=(y.host||M.host||K.length>1)&&(ie==="."||ie==="..")||ie==="",b=0,G=K.length;G>=0;G--)ie=K[G],ie==="."?K.splice(G,1):ie===".."?(K.splice(G,1),b++):b&&(K.splice(G,1),b--);if(!U&&!Q)for(;b--;b)K.unshift("..");U&&K[0]!==""&&(!K[0]||K[0].charAt(0)!=="/")&&K.unshift(""),m&&K.join("/").substr(-1)!=="/"&&K.push("");var J=K[0]===""||K[0]&&K[0].charAt(0)==="/";if(te){y.hostname=y.host=J?"":K.length?K.shift():"";var ne=y.host&&y.host.indexOf("@")>0?y.host.split("@"):!1;ne&&(y.auth=ne.shift(),y.host=y.hostname=ne.shift())}return U=U||y.host&&K.length,U&&!J&&K.unshift(""),K.length?y.pathname=K.join("/"):(y.pathname=null,y.path=null),(!s.isNull(y.pathname)||!s.isNull(y.search))&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.auth=M.auth||y.auth,y.slashes=y.slashes||M.slashes,y.href=y.format(),y},p.prototype.parseHost=function(){var M=this.host,ee=a.exec(M);ee&&(ee=ee[0],ee!==":"&&(this.port=ee.substr(1)),M=M.substr(0,M.length-ee.length)),M&&(this.hostname=M)}},{"./util":113,punycode:93,querystring:96}],113:[function(o,w,x){w.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},{}],114:[function(o,w,x){(function(i){w.exports=s;function s(h,a){if(p("noDeprecation"))return h;var e=!1;function n(){if(!e){if(p("throwDeprecation"))throw new Error(a);p("traceDeprecation")?console.trace(a):console.warn(a),e=!0}return h.apply(this,arguments)}return n}function p(h){try{if(!i.localStorage)return!1}catch(e){return!1}var a=i.localStorage[h];return a==null?!1:String(a).toLowerCase()==="true"}}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],115:[function(o,w,x){w.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],116:[function(o,w,x){(function(i,s){var p=/%[sdj%]/g;x.format=function(P){if(!k(P)){for(var j=[],c=0;c<arguments.length;c++)j.push(e(arguments[c]));return j.join(" ")}for(var c=1,E=arguments,U=E.length,Q=String(P).replace(p,function(q){if(q==="%%")return"%";if(c>=U)return q;switch(q){case"%s":return String(E[c++]);case"%d":return Number(E[c++]);case"%j":try{return JSON.stringify(E[c++])}catch(te){return"[Circular]"}default:return q}}),K=E[c];c<U;K=E[++c])I(K)||!y(K)?Q+=" "+K:Q+=" "+e(K);return Q},x.deprecate=function(P,j){if(M(s.process))return function(){return x.deprecate(P,j).apply(this,arguments)};if(i.noDeprecation===!0)return P;var c=!1;function E(){if(!c){if(i.throwDeprecation)throw new Error(j);i.traceDeprecation?console.trace(j):console.error(j),c=!0}return P.apply(this,arguments)}return E};var h={},a;x.debuglog=function(P){if(M(a)&&(a={MQTT_URL:"ws://www.myjpai.com:38083/mqtt",NODE_ENV:"development",SHOP_URL:"http://www.myjpai.com:10066",CHAT_URL:"http://220.173.138.144:19804",API_URL:"http://220.173.138.144:10002",CONFIG_URL:"http://220.173.138.144:10009",WS_URL:"ws://220.173.138.144:10001",AMAP_KEY:""}.NODE_DEBUG||""),P=P.toUpperCase(),!h[P])if(new RegExp("\\b"+P+"\\b","i").test(a)){var j=i.pid;h[P]=function(){var c=x.format.apply(x,arguments);console.error("%s %d: %s",P,j,c)}}else h[P]=function(){};return h[P]};function e(P,j){var c={seen:[],stylize:u};return arguments.length>=3&&(c.depth=arguments[2]),arguments.length>=4&&(c.colors=arguments[3]),O(j)?c.showHidden=j:j&&x._extend(c,j),M(c.showHidden)&&(c.showHidden=!1),M(c.depth)&&(c.depth=2),M(c.colors)&&(c.colors=!1),M(c.customInspect)&&(c.customInspect=!0),c.colors&&(c.stylize=n),l(c,P,c.depth)}x.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function n(P,j){var c=e.styles[j];return c?"\x1B["+e.colors[c][0]+"m"+P+"\x1B["+e.colors[c][1]+"m":P}function u(P,j){return P}function d(P){var j={};return P.forEach(function(c,E){j[c]=!0}),j}function l(P,j,c){if(P.customInspect&&j&&V(j.inspect)&&j.inspect!==x.inspect&&!(j.constructor&&j.constructor.prototype===j)){var E=j.inspect(c,P);return k(E)||(E=l(P,E,c)),E}var U=g(P,j);if(U)return U;var Q=Object.keys(j),K=d(Q);if(P.showHidden&&(Q=Object.getOwnPropertyNames(j)),W(j)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return T(j);if(Q.length===0){if(V(j)){var q=j.name?": "+j.name:"";return P.stylize("[Function"+q+"]","special")}if(ee(j))return P.stylize(RegExp.prototype.toString.call(j),"regexp");if(D(j))return P.stylize(Date.prototype.toString.call(j),"date");if(W(j))return T(j)}var te="",ne=!1,ie=["{","}"];if(R(j)&&(ne=!0,ie=["[","]"]),V(j)){var m=j.name?": "+j.name:"";te=" [Function"+m+"]"}if(ee(j)&&(te=" "+RegExp.prototype.toString.call(j)),D(j)&&(te=" "+Date.prototype.toUTCString.call(j)),W(j)&&(te=" "+T(j)),Q.length===0&&(!ne||j.length==0))return ie[0]+te+ie[1];if(c<0)return ee(j)?P.stylize(RegExp.prototype.toString.call(j),"regexp"):P.stylize("[Object]","special");P.seen.push(j);var b;return ne?b=C(P,j,c,K,Q):b=Q.map(function(G){return _(P,j,c,K,G,ne)}),P.seen.pop(),B(b,te,ie)}function g(P,j){if(M(j))return P.stylize("undefined","undefined");if(k(j)){var c="'"+JSON.stringify(j).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(c,"string")}if(S(j))return P.stylize(""+j,"number");if(O(j))return P.stylize(""+j,"boolean");if(I(j))return P.stylize("null","null")}function T(P){return"["+Error.prototype.toString.call(P)+"]"}function C(P,j,c,E,U){for(var Q=[],K=0,q=j.length;K<q;++K)re(j,String(K))?Q.push(_(P,j,c,E,String(K),!0)):Q.push("");return U.forEach(function(te){te.match(/^\d+$/)||Q.push(_(P,j,c,E,te,!0))}),Q}function _(P,j,c,E,U,Q){var K,q,te;if(te=Object.getOwnPropertyDescriptor(j,U)||{value:j[U]},te.get?te.set?q=P.stylize("[Getter/Setter]","special"):q=P.stylize("[Getter]","special"):te.set&&(q=P.stylize("[Setter]","special")),re(E,U)||(K="["+U+"]"),q||(P.seen.indexOf(te.value)<0?(I(c)?q=l(P,te.value,null):q=l(P,te.value,c-1),q.indexOf(`
`)>-1&&(Q?q=q.split(`
`).map(function(ne){return"  "+ne}).join(`
`).substr(2):q=`
`+q.split(`
`).map(function(ne){return"   "+ne}).join(`
`))):q=P.stylize("[Circular]","special")),M(K)){if(Q&&U.match(/^\d+$/))return q;K=JSON.stringify(""+U),K.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(K=K.substr(1,K.length-2),K=P.stylize(K,"name")):(K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),K=P.stylize(K,"string"))}return K+": "+q}function B(P,j,c){var E=P.reduce(function(U,Q){return Q.indexOf(`
`)>=0,U+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return E>60?c[0]+(j===""?"":j+`
 `)+" "+P.join(`,
  `)+" "+c[1]:c[0]+j+" "+P.join(", ")+" "+c[1]}function R(P){return Array.isArray(P)}x.isArray=R;function O(P){return typeof P=="boolean"}x.isBoolean=O;function I(P){return P===null}x.isNull=I;function A(P){return P==null}x.isNullOrUndefined=A;function S(P){return typeof P=="number"}x.isNumber=S;function k(P){return typeof P=="string"}x.isString=k;function F(P){return typeof P=="symbol"}x.isSymbol=F;function M(P){return P===void 0}x.isUndefined=M;function ee(P){return y(P)&&H(P)==="[object RegExp]"}x.isRegExp=ee;function y(P){return typeof P=="object"&&P!==null}x.isObject=y;function D(P){return y(P)&&H(P)==="[object Date]"}x.isDate=D;function W(P){return y(P)&&(H(P)==="[object Error]"||P instanceof Error)}x.isError=W;function V(P){return typeof P=="function"}x.isFunction=V;function Z(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||typeof P>"u"}x.isPrimitive=Z,x.isBuffer=o("./support/isBuffer");function H(P){return Object.prototype.toString.call(P)}function $(P){return P<10?"0"+P.toString(10):P.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var P=new Date,j=[$(P.getHours()),$(P.getMinutes()),$(P.getSeconds())].join(":");return[P.getDate(),z[P.getMonth()],j].join(" ")}x.log=function(){console.log("%s - %s",N(),x.format.apply(x,arguments))},x.inherits=o("inherits"),x._extend=function(P,j){if(!j||!y(j))return P;for(var c=Object.keys(j),E=c.length;E--;)P[c[E]]=j[c[E]];return P};function re(P,j){return Object.prototype.hasOwnProperty.call(P,j)}}).call(this,o("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":115,_process:92,inherits:80}],117:[function(o,w,x){(function(i,s){var p=o("readable-stream").Transform,h=o("duplexify"),a=o("ws"),e=o("safe-buffer").Buffer;w.exports=u;function n(d,l,g){var T=new p({objectMode:d.objectMode});return T._write=l,T._flush=g,T}function u(d,l,g){var T,C,_=i.title==="browser",B=!!s.WebSocket,R=_?F:k;l&&!Array.isArray(l)&&typeof l=="object"&&(g=l,l=null,(typeof g.protocol=="string"||Array.isArray(g.protocol))&&(l=g.protocol)),g||(g={}),g.objectMode===void 0&&(g.objectMode=!(g.binary===!0||g.binary===void 0));var O=n(g,R,M);g.objectMode||(O._writev=Z);var I=g.browserBufferSize||1024*512,A=g.browserBufferTimeout||1e3;typeof d=="object"?C=d:(B&&_?C=new a(d,l):C=new a(d,l,g),C.binaryType="arraybuffer"),C.readyState===C.OPEN?T=O:(T=h.obj(),C.onopen=ee),T.socket=C,C.onclose=y,C.onerror=D,C.onmessage=W,O.on("close",V);var S=!g.objectMode;function k(H,$,z){if(C.readyState!==C.OPEN){z();return}S&&typeof H=="string"&&(H=e.from(H,"utf8")),C.send(H,z)}function F(H,$,z){if(C.bufferedAmount>I){setTimeout(F,A,H,$,z);return}S&&typeof H=="string"&&(H=e.from(H,"utf8"));try{C.send(H)}catch(N){return z(N)}z()}function M(H){C.close(),H()}function ee(){T.setReadable(O),T.setWritable(O),T.emit("connect")}function y(){T.end(),T.destroy()}function D(H){T.destroy(H)}function W(H){var $=H.data;$ instanceof ArrayBuffer?$=e.from($):$=e.from($,"utf8"),O.push($)}function V(){C.close()}function Z(H,$){for(var z=new Array(H.length),N=0;N<H.length;N++)typeof H[N].chunk=="string"?z[N]=e.from(H[N],"utf8"):z[N]=H[N].chunk;this._write(e.concat(z),"binary",$)}return T}}).call(this,o("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:92,duplexify:16,"readable-stream":106,"safe-buffer":108,ws:118}],118:[function(o,w,x){var i=null;typeof WebSocket<"u"?i=WebSocket:typeof MozWebSocket<"u"?i=MozWebSocket:typeof window<"u"&&(i=window.WebSocket||window.MozWebSocket),w.exports=i},{}],119:[function(o,w,x){w.exports=i;function i(s,p){if(s&&p)return i(s)(p);if(typeof s!="function")throw new TypeError("need wrapper function");return Object.keys(s).forEach(function(a){h[a]=s[a]}),h;function h(){for(var a=new Array(arguments.length),e=0;e<a.length;e++)a[e]=arguments[e];var n=s.apply(this,a),u=a[a.length-1];return typeof n=="function"&&n!==u&&Object.keys(u).forEach(function(d){n[d]=u[d]}),n}}},{}],120:[function(o,w,x){w.exports=s;var i=Object.prototype.hasOwnProperty;function s(){for(var p={},h=0;h<arguments.length;h++){var a=arguments[h];for(var e in a)i.call(a,e)&&(p[e]=a[e])}return p}},{}]},{},[8])(8)})})(Ee);class Ie{constructor(le){ge(this,"url");ge(this,"topic");ge(this,"client");this.topic=le,this.url="ws://www.myjpai.com:38083/mqtt"}init(){const le={clean:!0,clientId:window.localStorage.getItem("IM_USERID"),password:"test",username:"test",connectTimeout:4e3};this.client=me.connect(this.url,le),this.client.on("error",o=>{console.log(o)}),this.client.on("reconnect",o=>{console.log(o)})}unsubscribes(){this.client.unsubscribe(this.topic,le=>{le?console.log(this.topic,""):console.log(this.topic,"")})}link(){this.client.on("connect",()=>{this.client.subscribe(this.topic,le=>{console.log(le?"":"")})})}get(le){this.client.on("message",le)}send(le,o){this.client.publish(le,o,{qos:1},w=>{console.log(w?"":""+o)})}close(){this.client.on("close",()=>{console.log("")})}over(){this.client.end()}}function je(){const ce=Se(null),le=(x,i)=>{ce.value=new Ie(x),ce.value.init(),ce.value.link(),o(i),close()},o=x=>{var i;(i=ce.value)==null||i.get(x)},w=(x,i)=>{var s;(s=ce.value)==null||s.send(x,i)};return xe(()=>{ce.value&&(ce.value.unsubscribes(),ce.value.over())}),{startMqtt:le,sendMessage:w}}export{je as u};
