import{C as R,D as n,N as P,O as L,ao as U,l as O,G as l,n as E,am as B,E as b,R as o,w as A,Z as D,_ as F,o as S,F as H,X as M,V as y,U as V,Y as j}from"./index-3dcc8fbd.js";/* empty css              */import{N as q}from"./index-0b36e68f.js";import{r as C}from"./index-ec993ea9.js";import{g as z,a as G}from"./storage-a45bd5c0.js";import{a as Y}from"./axios-213479dd.js";import{f as $}from"./common-a47fff3e.js";import{c as J,a as K,m as Q,t as W,A as X,d as Z,e as I,B as ee,w as te}from"./index-4ccc55cb.js";import{u as oe,L as ae}from"./index-30732979.js";import{u as se}from"./use-tab-status-5f821b4e.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-placeholder-ddc70116.js";import"./on-popup-reopen-bcee1d9f.js";import"./constant-77ae5ca0.js";import"./runtime-dom.esm-bundler-65ecdaea.js";import"./index-6db50d8f.js";import"./_commonjsHelpers-edff4021.js";import"./mount-component-74e25e35.js";const[ie,m,re]=J("list"),le={error:Boolean,offset:K(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:Q("down"),loadingText:String,finishedText:String,immediateCheck:W};var de=R({name:ie,props:le,emits:["load","update:error","update:loading"],setup(e,{emit:v,slots:a}){const d=n(e.loading),_=n(),p=n(),c=se(),g=X(_),h=P(()=>e.scroller||g.value),i=()=>{E(()=>{if(d.value||e.finished||e.disabled||e.error||(c==null?void 0:c.value)===!1)return;const{direction:t}=e,u=+e.offset,r=I(h);if(!r.height||ee(_))return;let s=!1;const w=I(p);t==="up"?s=r.top-w.top<=u:s=w.bottom-r.bottom<=u,s&&(d.value=!0,v("update:loading",!0),v("load"))})},T=()=>{if(e.finished){const t=a.finished?a.finished():e.finishedText;if(t)return l("div",{class:m("finished-text")},[t])}},x=()=>{v("update:error",!1),i()},k=()=>{if(e.error){const t=a.error?a.error():e.errorText;if(t)return l("div",{role:"button",class:m("error-text"),tabindex:0,onClick:x},[t])}},f=()=>{if(d.value&&!e.finished&&!e.disabled)return l("div",{class:m("loading")},[a.loading?a.loading():l(ae,{class:m("loading-icon")},{default:()=>[e.loadingText||re("loading")]})])};return L(()=>[e.loading,e.finished,e.error],i),c&&L(c,t=>{t&&i()}),U(()=>{d.value=e.loading}),O(()=>{e.immediateCheck&&i()}),oe({check:i}),Z("scroll",i,{target:h,passive:!0}),()=>{var t;const u=(t=a.default)==null?void 0:t.call(a),r=l("div",{ref:p,class:m("placeholder")},null);return l("div",{ref:_,role:"feed",class:m(),"aria-busy":d.value},[e.direction==="down"?u:r,f(),T(),k(),e.direction==="up"?u:r])}}});const ce=te(de);const N=e=>(D("data-v-103122b3"),e=e(),F(),e),ue={class:"see_more_box"},_e=N(()=>o("div",{class:"spane"},null,-1)),fe={class:"see_more_list"},me={key:0,class:"complete_list"},ve=["onClick"],he={class:"list1"},pe={class:"type_box"},ge={class:"type_box2"},xe={class:"list2"},we=N(()=>o("div",{class:"list3"},[o("span",null,"交易成功")],-1)),be=R({__name:"see_more",setup(e){z();const v=G();n(),n();const a=n([]),d=B(),_=n(),p=()=>{C.go(-1)},c=n(!1),g=n(!1),h=n(1),i=n(10),T=async()=>{h.value++,await x()},x=async()=>{await Y.post("http://www.myjpai.com:10066/api/Order/SaveOrederCashFlow",{userId:v,page:h.value,pageSize:i.value}).then(f=>{const t=f.data.data;t?a.value.push(...t):g.value=!0})},k=f=>{C.push({path:"historyOrder",query:{orderData:JSON.stringify(f)}})};return O(async()=>{_.value=d.query.isRegiste,await x()}),(f,t)=>{const u=q,r=ce;return S(),b("div",ue,[o("div",null,[_e,l(u,{title:"订单详情","left-text":"","left-arrow":"",onClickLeft:p})]),o("div",fe,[l(r,{loading:c.value,"onUpdate:loading":t[0]||(t[0]=s=>c.value=s),finished:g.value,"finished-text":"没有更多了",onLoad:T},{default:A(()=>[_.value=="false"?(S(),b("div",me,[(S(!0),b(H,null,M(a.value,(s,w)=>(S(),b("div",{class:"transaction_list",key:w,onClick:Se=>k(s)},[o("div",he,[o("div",pe,y(s.CashFlowState==1?"买":"卖"),1),o("div",ge,[o("div",null,"订单号："+y(s.OrderId),1),o("div",null,y(V($)(s.TradingHour)),1)])]),o("div",xe,[o("span",null,"￥"+y(Number(s.IncomingAmount)),1)]),we],8,ve))),128))])):j("",!0)]),_:1},8,["loading","finished"])])])}}});const Ve=ne(be,[["__scopeId","data-v-103122b3"]]);export{Ve as default};
