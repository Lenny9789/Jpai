import{a as S}from"./runtime-dom.esm-bundler-65ecdaea.js";import{C as B,G as r,am as Y,D as d,ad as $,O as R,l as X,E as x,R as e,V,a9 as O,U as y,F as Z,X as z,w as p,P as U,Z as J,_ as ee,o as g,c as ae,W as P}from"./index-3dcc8fbd.js";import{R as te,a as oe}from"./index-f4e05e24.js";import"./index-6f49421e.js";import{C as se}from"./index-b73ef6b8.js";/* empty css              *//* empty css              */import{N as le}from"./index-0b36e68f.js";import{_ as ne,a as ie,b as de}from"./ol3-83447a1c.js";import{r as T}from"./index-ec993ea9.js";import{a as c}from"./common-a47fff3e.js";import{a as w}from"./axios-213479dd.js";import{g as ce,a as re}from"./storage-a45bd5c0.js";import{B as _e}from"./index-a7ca7fba.js";import{c as me,t as ue,m as pe,w as ve}from"./index-4ccc55cb.js";import{_ as he}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-30732979.js";import"./use-placeholder-ddc70116.js";import"./on-popup-reopen-bcee1d9f.js";import"./constant-77ae5ca0.js";import"./index-6db50d8f.js";import"./_commonjsHelpers-edff4021.js";import"./mount-component-74e25e35.js";import"./use-route-fa97d2d0.js";const[be,fe]=me("divider"),ye={dashed:Boolean,hairline:ue,vertical:Boolean,contentPosition:pe("center")};var Ue=B({name:be,props:ye,setup(n,{slots:f}){return()=>{var m;return r("div",{role:"separator",class:fe({dashed:n.dashed,hairline:n.hairline,vertical:n.vertical,[`content-${n.contentPosition}`]:!!f.default&&!n.vertical})},[!n.vertical&&((m=f.default)==null?void 0:m.call(f))])}}});const we=ve(Ue);const _=n=>(J("data-v-7c3cfbd1"),n=n(),ee(),n),Le={class:"add_box"},Ne={class:"add_view"},Re=_(()=>e("div",{class:"spane"},null,-1)),ge={class:"balance_box"},Pe={class:"balance_cord"},Ce={class:"balance_num"},ke=_(()=>e("div",{class:"balance_text"},"账号余额",-1)),Ie={class:"balance_inp"},Ae={class:"inp_box"},Se=_(()=>e("div",null,"金额：",-1)),xe={class:"balance_inp"},Ve={class:"inp_box"},Oe=_(()=>e("div",null,"最低金额：",-1)),Te=["disabled"],Be={class:"shortcut_box"},Me=_(()=>e("div",{class:"shortcut_text"},"快捷输入：",-1)),Ee={class:"shortcut_btn"},De={class:"payment_settings"},He={class:"paycord"},Ge={class:"payment_checkbox"},je=_(()=>e("img",{src:ne,alt:"",class:"checked_img"},null,-1)),We=_(()=>e("img",{src:ie,alt:"",class:"checked_img"},null,-1)),Fe=_(()=>e("img",{src:de,alt:"",class:"checked_img"},null,-1)),qe={class:"payment_radio"},Ke=B({__name:"add_commodity",setup(n){const f=Y();ce();const m=re(),s=d(0),l=d(0),u=d(0);var i=d("2");const M=$([{money:100},{money:200},{money:300},{money:500},{money:700},{money:1e3}]);var v=d(!1),h=d(!1),b=d(!1);const C=d(!1),k=d(!1),I=d(!1),E=a=>{s.value=a,i.value=="2"&&(l.value=s.value)},D=()=>{w.post("http://www.myjpai.com:10066/api/AB/GetListCardNumber",{UserId:m}).then(a=>{a.data.data.length>0||(I.value=!0)}).catch(a=>{}),w.post("http://www.myjpai.com:10066/api/AB/GetPayImg",{UserId:m}).then(a=>{const t=a.data.data.PayPal_Url,L=a.data.data.WeChat_Url;t==""&&(C.value=!0),L==""&&(k.value=!0)}).catch(a=>{})},H=()=>{T.push("/shop")};R(s,(a,t)=>{console.log(a),console.log(u.value),a>Number(u.value)&&(s.value=Number(u.value),c({message:"超出余额"}))}),R(l,(a,t)=>{console.log(a),console.log(u.value),a>Number(s.value)?(l.value=Number(s.value),c({message:"超出金额"})):i.value=="1"&&a==Number(s.value)&&(l.value=Number(l.value)-1,c({message:"拆分时最低金额不能等于金额"}))}),R(i,(a,t)=>{a=="2"&&(l.value=s.value),a=="1"&&(l.value=1),a=="1"&&Number(s.value)==Number(l.value)&&c({message:"拆分时最低金额不能等于金额"})});const G=()=>{!v.value&&!h.value&&!b.value?c({message:"至少选择一种收款方式"}):Number(s.value)<=0?c({message:"金额至少大于0"}):i.value=="1"&&Number(s.value)==Number(l.value)?c({message:"拆分时最低金额不能等于金额"}):j()},j=async()=>{await w.post("http://www.myjpai.com:10066/api/Order/CreateOrderInfo",{UserId:m,Sum:Number(s.value),SellStatus:i.value=="1"?1:0,PayPal:v.value?1:0,WeChat:h.value?1:0,UnionPay:b.value?1:0,MinAmount:i.value=="1"?Number(l.value):Number(s.value),Credit:Number(f.query.Credit)}).then(a=>{a.status==200&&(c({message:"创建成功"}),T.push("/SellList"))}).catch(a=>{c({message:"创建订单失败"})})},W=async()=>{await w.post("http://www.myjpai.com:10066/api/AB/GetUserAcctBalance",{userId:m}).then(a=>{u.value=a.data.data.AcctBalance,console.log(u.value)}).catch(a=>{c({message:"获取账户余额失败"})})};return X(()=>{W(),D()}),(a,t)=>{const L=le,F=_e,N=se,q=we,A=te,K=oe;return g(),x("div",Le,[e("div",Ne,[e("div",null,[Re,r(L,{title:"上架挂单","left-text":"","left-arrow":"",onClickLeft:H})]),e("div",ge,[e("div",Pe,[e("div",Ce,"￥"+V(u.value),1),ke])]),e("div",Ie,[e("div",Ae,[Se,e("div",null,[O(e("input",{type:"number",placeholder:"请输入订单金额","onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o)},null,512),[[S,s.value]])])])]),e("div",xe,[e("div",Ve,[Oe,e("div",null,[O(e("input",{type:"number",placeholder:"请输入订单金额","onUpdate:modelValue":t[1]||(t[1]=o=>l.value=o),disabled:y(i)=="2"},null,8,Te),[[S,l.value]])])])]),e("div",Be,[Me,e("div",Ee,[(g(!0),x(Z,null,z(M,(o,Q)=>(g(),ae(F,{plain:"",hairline:"",type:"primary",key:Q,onClick:Qe=>E(o.money)},{default:p(()=>[P(V(o.money),1)]),_:2},1032,["onClick"]))),128))])]),e("div",De,[e("div",He,[e("div",Ge,[r(N,{modelValue:y(v),"onUpdate:modelValue":t[2]||(t[2]=o=>U(v)?v.value=o:v=o),disabled:C.value},{default:p(()=>[je]),_:1},8,["modelValue","disabled"]),r(N,{modelValue:y(h),"onUpdate:modelValue":t[3]||(t[3]=o=>U(h)?h.value=o:h=o),disabled:k.value},{default:p(()=>[We]),_:1},8,["modelValue","disabled"]),r(N,{modelValue:y(b),"onUpdate:modelValue":t[4]||(t[4]=o=>U(b)?b.value=o:b=o),disabled:I.value},{default:p(()=>[Fe]),_:1},8,["modelValue","disabled"])]),r(q),e("div",qe,[r(K,{modelValue:y(i),"onUpdate:modelValue":t[5]||(t[5]=o=>U(i)?i.value=o:i=o),class:"payment_radio2"},{default:p(()=>[r(A,{name:"1"},{default:p(()=>[P("拆解")]),_:1}),r(A,{name:"2"},{default:p(()=>[P("不拆解")]),_:1})]),_:1},8,["modelValue"])])])]),e("div",{class:"end_btn"},[e("div",{class:"btn",onClick:G},"开始挂卖")])])])}}});const fa=he(Ke,[["__scopeId","data-v-7c3cfbd1"]]);export{fa as default};
